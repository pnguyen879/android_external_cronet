// Copyright (C) 2022 The Android Open Source Project
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// This file is automatically generated by gn2bp/gen_android_bp. Do not edit.

// GN: Package-Artificial
package {
    default_applicable_licenses: [
        "external_cronet_license",
    ],
}

// GN: //base:base
cc_library_static {
    name: "cronet_aml_base_base",
    srcs: [
        "allocator/allocator_check.cc",
        "allocator/dispatcher/dispatcher.cc",
        "allocator/dispatcher/internal/dispatch_data.cc",
        "allocator/dispatcher/memory_tagging.cc",
        "allocator/dispatcher/reentry_guard.cc",
        "allocator/dispatcher/tls.cc",
        "android/android_hardware_buffer_compat.cc",
        "android/android_image_reader_compat.cc",
        "android/apk_assets.cc",
        "android/application_status_listener.cc",
        "android/base_jni_onload.cc",
        "android/build_info.cc",
        "android/bundle_utils.cc",
        "android/callback_android.cc",
        "android/child_process_service.cc",
        "android/command_line_android.cc",
        "android/content_uri_utils.cc",
        "android/cpu_features.cc",
        "android/early_trace_event_binding.cc",
        "android/event_log.cc",
        "android/feature_list_jni.cc",
        "android/feature_map.cc",
        "android/features_jni.cc",
        "android/field_trial_list.cc",
        "android/important_file_writer_android.cc",
        "android/input_hint_checker.cc",
        "android/int_string_callback.cc",
        "android/jank_metric_uma_recorder.cc",
        "android/java_exception_reporter.cc",
        "android/java_handler_thread.cc",
        "android/java_heap_dump_generator.cc",
        "android/java_runtime.cc",
        "android/jni_android.cc",
        "android/jni_array.cc",
        "android/jni_bytebuffer.cc",
        "android/jni_conversions.cc",
        "android/jni_registrar.cc",
        "android/jni_string.cc",
        "android/jni_utils.cc",
        "android/jni_weak_ref.cc",
        "android/library_loader/anchor_functions.cc",
        "android/library_loader/library_loader_hooks.cc",
        "android/library_loader/library_prefetcher.cc",
        "android/library_loader/library_prefetcher_hooks.cc",
        "android/locale_utils.cc",
        "android/meminfo_dump_provider.cc",
        "android/memory_pressure_listener_android.cc",
        "android/memory_purge_manager_android.cc",
        "android/native_uma_recorder.cc",
        "android/path_service_android.cc",
        "android/path_utils.cc",
        "android/pmf_utils.cc",
        "android/pre_freeze_background_memory_trimmer.cc",
        "android/radio_utils.cc",
        "android/scoped_hardware_buffer_fence_sync.cc",
        "android/scoped_hardware_buffer_handle.cc",
        "android/shared_preferences/shared_preferences_manager.cc",
        "android/statistics_recorder_android.cc",
        "android/sys_utils.cc",
        "android/task_scheduler/post_task_android.cc",
        "android/task_scheduler/task_runner_android.cc",
        "android/thread_instruction_count.cc",
        "android/timezone_utils.cc",
        "android/token_android.cc",
        "android/trace_event_binding.cc",
        "android/unguessable_token_android.cc",
        "at_exit.cc",
        "barrier_closure.cc",
        "base64.cc",
        "base64url.cc",
        "base_paths.cc",
        "base_paths_android.cc",
        "callback_list.cc",
        "check.cc",
        "check_is_test.cc",
        "check_op.cc",
        "command_line.cc",
        "containers/intrusive_heap.cc",
        "containers/linked_list.cc",
        "cpu.cc",
        "cpu_reduction_experiment.cc",
        "debug/alias.cc",
        "debug/asan_invalid_access.cc",
        "debug/asan_service.cc",
        "debug/crash_logging.cc",
        "debug/debugger.cc",
        "debug/debugger_posix.cc",
        "debug/dump_without_crashing.cc",
        "debug/elf_reader.cc",
        "debug/proc_maps_linux.cc",
        "debug/profiler.cc",
        "debug/stack_trace.cc",
        "debug/stack_trace_android.cc",
        "debug/task_trace.cc",
        "environment.cc",
        "feature_list.cc",
        "features.cc",
        "file_descriptor_posix.cc",
        "file_descriptor_store.cc",
        "files/block_tests_writing_to_special_dirs.cc",
        "files/file.cc",
        "files/file_descriptor_watcher_posix.cc",
        "files/file_enumerator.cc",
        "files/file_enumerator_posix.cc",
        "files/file_path.cc",
        "files/file_path_watcher.cc",
        "files/file_path_watcher_inotify.cc",
        "files/file_posix.cc",
        "files/file_proxy.cc",
        "files/file_tracing.cc",
        "files/file_util.cc",
        "files/file_util_android.cc",
        "files/file_util_posix.cc",
        "files/important_file_writer.cc",
        "files/important_file_writer_cleaner.cc",
        "files/memory_mapped_file.cc",
        "files/memory_mapped_file_posix.cc",
        "files/safe_base_name.cc",
        "files/scoped_file.cc",
        "files/scoped_file_android.cc",
        "files/scoped_temp_dir.cc",
        "files/scoped_temp_file.cc",
        "functional/callback_helpers.cc",
        "functional/callback_internal.cc",
        "functional/concurrent_closures.cc",
        "hash/hash.cc",
        "hash/legacy_hash.cc",
        "hash/md5_boringssl.cc",
        "hash/sha1_boringssl.cc",
        "json/json_file_value_serializer.cc",
        "json/json_parser.cc",
        "json/json_reader.cc",
        "json/json_string_value_serializer.cc",
        "json/json_value_converter.cc",
        "json/json_writer.cc",
        "json/string_escape.cc",
        "json/values_util.cc",
        "lazy_instance_helpers.cc",
        "linux_util.cc",
        "location.cc",
        "logging.cc",
        "memory/aligned_memory.cc",
        "memory/discardable_memory.cc",
        "memory/discardable_memory_allocator.cc",
        "memory/discardable_shared_memory.cc",
        "memory/madv_free_discardable_memory_allocator_posix.cc",
        "memory/madv_free_discardable_memory_posix.cc",
        "memory/memory_pressure_listener.cc",
        "memory/memory_pressure_monitor.cc",
        "memory/nonscannable_memory.cc",
        "memory/page_size_posix.cc",
        "memory/platform_shared_memory_handle.cc",
        "memory/platform_shared_memory_mapper_android.cc",
        "memory/platform_shared_memory_region.cc",
        "memory/platform_shared_memory_region_android.cc",
        "memory/post_delayed_memory_reduction_task.cc",
        "memory/raw_ptr_asan_bound_arg_tracker.cc",
        "memory/raw_ptr_asan_hooks.cc",
        "memory/raw_ptr_asan_service.cc",
        "memory/read_only_shared_memory_region.cc",
        "memory/ref_counted.cc",
        "memory/ref_counted_memory.cc",
        "memory/shared_memory_mapper.cc",
        "memory/shared_memory_mapping.cc",
        "memory/shared_memory_security_policy.cc",
        "memory/shared_memory_switch.cc",
        "memory/shared_memory_tracker.cc",
        "memory/unsafe_shared_memory_pool.cc",
        "memory/unsafe_shared_memory_region.cc",
        "memory/weak_ptr.cc",
        "memory/writable_shared_memory_region.cc",
        "message_loop/message_pump.cc",
        "message_loop/message_pump_android.cc",
        "message_loop/message_pump_default.cc",
        "message_loop/message_pump_epoll.cc",
        "message_loop/message_pump_libevent.cc",
        "message_loop/watchable_io_message_pump_posix.cc",
        "message_loop/work_id_provider.cc",
        "metrics/bucket_ranges.cc",
        "metrics/crc32.cc",
        "metrics/dummy_histogram.cc",
        "metrics/field_trial.cc",
        "metrics/field_trial_list_including_low_anonymity.cc",
        "metrics/field_trial_param_associator.cc",
        "metrics/field_trial_params.cc",
        "metrics/histogram.cc",
        "metrics/histogram_base.cc",
        "metrics/histogram_delta_serialization.cc",
        "metrics/histogram_functions.cc",
        "metrics/histogram_samples.cc",
        "metrics/histogram_shared_memory.cc",
        "metrics/histogram_snapshot_manager.cc",
        "metrics/metrics_hashes.cc",
        "metrics/persistent_histogram_allocator.cc",
        "metrics/persistent_histogram_storage.cc",
        "metrics/persistent_memory_allocator.cc",
        "metrics/persistent_sample_map.cc",
        "metrics/ranges_manager.cc",
        "metrics/sample_map.cc",
        "metrics/sample_vector.cc",
        "metrics/single_sample_metrics.cc",
        "metrics/sparse_histogram.cc",
        "metrics/statistics_recorder.cc",
        "metrics/user_metrics.cc",
        "native_library.cc",
        "native_library_posix.cc",
        "observer_list_internal.cc",
        "observer_list_threadsafe.cc",
        "observer_list_types.cc",
        "one_shot_event.cc",
        "os_compat_android.cc",
        "path_service.cc",
        "pending_task.cc",
        "pickle.cc",
        "posix/can_lower_nice_to.cc",
        "posix/file_descriptor_shuffle.cc",
        "posix/global_descriptors.cc",
        "posix/safe_strerror.cc",
        "posix/unix_domain_socket.cc",
        "power_monitor/battery_level_provider.cc",
        "power_monitor/battery_state_sampler.cc",
        "power_monitor/cpu_frequency_utils.cc",
        "power_monitor/power_monitor.cc",
        "power_monitor/power_monitor_device_source.cc",
        "power_monitor/power_monitor_device_source_android.cc",
        "power_monitor/power_monitor_features.cc",
        "power_monitor/power_monitor_source.cc",
        "power_monitor/sampling_event_source.cc",
        "power_monitor/timer_sampling_event_source.cc",
        "process/current_process.cc",
        "process/environment_internal.cc",
        "process/internal_linux.cc",
        "process/kill.cc",
        "process/kill_posix.cc",
        "process/launch.cc",
        "process/launch_posix.cc",
        "process/memory.cc",
        "process/memory_linux.cc",
        "process/process_android.cc",
        "process/process_handle.cc",
        "process/process_handle_linux.cc",
        "process/process_handle_posix.cc",
        "process/process_iterator.cc",
        "process/process_iterator_linux.cc",
        "process/process_metrics.cc",
        "process/process_metrics_linux.cc",
        "process/process_metrics_posix.cc",
        "process/process_posix.cc",
        "process/set_process_title.cc",
        "profiler/frame.cc",
        "profiler/metadata_recorder.cc",
        "profiler/module_cache.cc",
        "profiler/module_cache_posix.cc",
        "profiler/sample_metadata.cc",
        "profiler/sampling_profiler_thread_token.cc",
        "profiler/stack_base_address_posix.cc",
        "profiler/stack_buffer.cc",
        "profiler/stack_copier.cc",
        "profiler/stack_copier_signal.cc",
        "profiler/stack_copier_suspend.cc",
        "profiler/stack_sampler.cc",
        "profiler/stack_sampler_android.cc",
        "profiler/stack_sampling_profiler.cc",
        "profiler/thread_delegate_posix.cc",
        "profiler/unwinder.cc",
        "rand_util.cc",
        "rand_util_posix.cc",
        "run_loop.cc",
        "sampling_heap_profiler/lock_free_address_hash_set.cc",
        "sampling_heap_profiler/poisson_allocation_sampler.cc",
        "sampling_heap_profiler/sampling_heap_profiler.cc",
        "scoped_add_feature_flags.cc",
        "scoped_environment_variable_override.cc",
        "scoped_native_library.cc",
        "sequence_checker.cc",
        "sequence_checker_impl.cc",
        "sequence_token.cc",
        "strings/abseil_string_number_conversions.cc",
        "strings/escape.cc",
        "strings/latin1_string_conversions.cc",
        "strings/levenshtein_distance.cc",
        "strings/pattern.cc",
        "strings/safe_sprintf.cc",
        "strings/strcat.cc",
        "strings/string_number_conversions.cc",
        "strings/string_split.cc",
        "strings/string_util.cc",
        "strings/string_util_constants.cc",
        "strings/stringprintf.cc",
        "strings/sys_string_conversions_posix.cc",
        "strings/utf_offset_string_conversions.cc",
        "strings/utf_ostream_operators.cc",
        "strings/utf_string_conversion_utils.cc",
        "strings/utf_string_conversions.cc",
        "substring_set_matcher/matcher_string_pattern.cc",
        "substring_set_matcher/substring_set_matcher.cc",
        "supports_user_data.cc",
        "sync_socket.cc",
        "sync_socket_posix.cc",
        "synchronization/atomic_flag.cc",
        "synchronization/condition_variable_posix.cc",
        "synchronization/lock.cc",
        "synchronization/lock_impl_posix.cc",
        "synchronization/waitable_event.cc",
        "synchronization/waitable_event_posix.cc",
        "synchronization/waitable_event_watcher_posix.cc",
        "syslog_logging.cc",
        "system/sys_info.cc",
        "system/sys_info_android.cc",
        "system/sys_info_linux.cc",
        "system/sys_info_posix.cc",
        "system/system_monitor.cc",
        "task/cancelable_task_tracker.cc",
        "task/common/checked_lock_impl.cc",
        "task/common/lazy_now.cc",
        "task/common/operations_controller.cc",
        "task/common/scoped_defer_task_posting.cc",
        "task/common/task_annotator.cc",
        "task/current_thread.cc",
        "task/default_delayed_task_handle_delegate.cc",
        "task/deferred_sequenced_task_runner.cc",
        "task/delayed_task_handle.cc",
        "task/lazy_thread_pool_task_runner.cc",
        "task/post_job.cc",
        "task/scoped_set_task_priority_for_current_thread.cc",
        "task/sequence_manager/associated_thread_id.cc",
        "task/sequence_manager/atomic_flag_set.cc",
        "task/sequence_manager/delayed_task_handle_delegate.cc",
        "task/sequence_manager/enqueue_order_generator.cc",
        "task/sequence_manager/fence.cc",
        "task/sequence_manager/sequence_manager.cc",
        "task/sequence_manager/sequence_manager_impl.cc",
        "task/sequence_manager/sequenced_task_source.cc",
        "task/sequence_manager/task_order.cc",
        "task/sequence_manager/task_queue.cc",
        "task/sequence_manager/task_queue_impl.cc",
        "task/sequence_manager/task_queue_selector.cc",
        "task/sequence_manager/tasks.cc",
        "task/sequence_manager/thread_controller.cc",
        "task/sequence_manager/thread_controller_impl.cc",
        "task/sequence_manager/thread_controller_power_monitor.cc",
        "task/sequence_manager/thread_controller_with_message_pump_impl.cc",
        "task/sequence_manager/time_domain.cc",
        "task/sequence_manager/wake_up_queue.cc",
        "task/sequence_manager/work_deduplicator.cc",
        "task/sequence_manager/work_queue.cc",
        "task/sequence_manager/work_queue_sets.cc",
        "task/sequence_manager/work_tracker.cc",
        "task/sequenced_task_runner.cc",
        "task/single_thread_task_executor.cc",
        "task/single_thread_task_runner.cc",
        "task/task_features.cc",
        "task/task_runner.cc",
        "task/task_traits.cc",
        "task/thread_pool.cc",
        "task/thread_pool/delayed_priority_queue.cc",
        "task/thread_pool/delayed_task_manager.cc",
        "task/thread_pool/environment_config.cc",
        "task/thread_pool/initialization_util.cc",
        "task/thread_pool/job_task_source.cc",
        "task/thread_pool/pooled_parallel_task_runner.cc",
        "task/thread_pool/pooled_sequenced_task_runner.cc",
        "task/thread_pool/pooled_single_thread_task_runner_manager.cc",
        "task/thread_pool/pooled_task_runner_delegate.cc",
        "task/thread_pool/priority_queue.cc",
        "task/thread_pool/semaphore/semaphore_posix.cc",
        "task/thread_pool/sequence.cc",
        "task/thread_pool/service_thread.cc",
        "task/thread_pool/task.cc",
        "task/thread_pool/task_source.cc",
        "task/thread_pool/task_source_sort_key.cc",
        "task/thread_pool/task_tracker.cc",
        "task/thread_pool/thread_group.cc",
        "task/thread_pool/thread_group_impl.cc",
        "task/thread_pool/thread_group_semaphore.cc",
        "task/thread_pool/thread_group_worker_delegate.cc",
        "task/thread_pool/thread_pool_impl.cc",
        "task/thread_pool/thread_pool_instance.cc",
        "task/thread_pool/worker_thread.cc",
        "task/thread_pool/worker_thread_semaphore.cc",
        "task/thread_pool/worker_thread_set.cc",
        "task/thread_pool/worker_thread_waitable_event.cc",
        "third_party/nspr/prtime.cc",
        "threading/hang_watcher.cc",
        "threading/platform_thread.cc",
        "threading/platform_thread_android.cc",
        "threading/platform_thread_internal_posix.cc",
        "threading/platform_thread_posix.cc",
        "threading/platform_thread_ref.cc",
        "threading/post_task_and_reply_impl.cc",
        "threading/scoped_blocking_call.cc",
        "threading/scoped_blocking_call_internal.cc",
        "threading/scoped_thread_priority.cc",
        "threading/sequence_local_storage_map.cc",
        "threading/sequence_local_storage_slot.cc",
        "threading/simple_thread.cc",
        "threading/thread.cc",
        "threading/thread_checker.cc",
        "threading/thread_checker_impl.cc",
        "threading/thread_collision_warner.cc",
        "threading/thread_id_name_manager.cc",
        "threading/thread_local_storage.cc",
        "threading/thread_local_storage_posix.cc",
        "threading/thread_restrictions.cc",
        "threading/watchdog.cc",
        "time/clock.cc",
        "time/default_clock.cc",
        "time/default_tick_clock.cc",
        "time/tick_clock.cc",
        "time/time.cc",
        "time/time_android.cc",
        "time/time_conversion_posix.cc",
        "time/time_delta_from_string.cc",
        "time/time_exploded_icu.cc",
        "time/time_exploded_posix.cc",
        "time/time_now_posix.cc",
        "time/time_override.cc",
        "timer/elapsed_timer.cc",
        "timer/hi_res_timer_manager_posix.cc",
        "timer/lap_timer.cc",
        "timer/timer.cc",
        "timer/wall_clock_timer.cc",
        "token.cc",
        "trace_event/heap_profiler_allocation_context.cc",
        "trace_event/heap_profiler_allocation_context_tracker.cc",
        "trace_event/memory_allocator_dump_guid.cc",
        "trace_event/named_trigger.cc",
        "trace_event/trace_event_stub.cc",
        "trace_event/trace_id_helper.cc",
        "unguessable_token.cc",
        "uuid.cc",
        "value_iterators.cc",
        "values.cc",
        "version.cc",
        "vlog.cc",
    ],
    shared_libs: [
        "//external/cronet/third_party/boringssl:libcrypto",
        "//external/cronet/third_party/boringssl:libpki",
        "//external/cronet/third_party/boringssl:libssl",
        "libandroid",
        "liblog",
    ],
    generated_headers: [
        "cronet_aml_base_allocator_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags",
        "cronet_aml_base_anchor_functions_buildflags",
        "cronet_aml_base_android_runtime_jni_headers__action",
        "cronet_aml_base_base_jni__action",
        "cronet_aml_base_base_shared_preferences_jni__action",
        "cronet_aml_base_build_date",
        "cronet_aml_base_cfi_buildflags",
        "cronet_aml_base_check_version_internal_action",
        "cronet_aml_base_clang_profiling_buildflags",
        "cronet_aml_base_debugging_buildflags",
        "cronet_aml_base_feature_list_buildflags",
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_base_ios_cronet_buildflags",
        "cronet_aml_base_logging_buildflags",
        "cronet_aml_base_message_pump_buildflags",
        "cronet_aml_base_orderfile_buildflags",
        "cronet_aml_base_power_monitor_buildflags",
        "cronet_aml_base_process_launcher_jni__action",
        "cronet_aml_base_profiler_buildflags",
        "cronet_aml_base_protected_memory_buildflags",
        "cronet_aml_base_rust_buildflags",
        "cronet_aml_base_sanitizer_buildflags",
        "cronet_aml_base_synchronization_buildflags",
        "cronet_aml_base_tracing_buildflags",
        "cronet_aml_build_blink_buildflags",
        "cronet_aml_build_branding_buildflags",
        "cronet_aml_build_chromecast_buildflags",
        "cronet_aml_build_chromeos_buildflags",
        "cronet_aml_build_config_compiler_compiler_buildflags",
        "cronet_aml_build_ios_buildflags",
        "cronet_aml_build_robolectric_buildflags",
    ],
    export_generated_headers: [
        "cronet_aml_base_allocator_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags",
        "cronet_aml_base_anchor_functions_buildflags",
        "cronet_aml_base_android_runtime_jni_headers__action",
        "cronet_aml_base_base_jni__action",
        "cronet_aml_base_base_shared_preferences_jni__action",
        "cronet_aml_base_build_date",
        "cronet_aml_base_cfi_buildflags",
        "cronet_aml_base_check_version_internal_action",
        "cronet_aml_base_clang_profiling_buildflags",
        "cronet_aml_base_debugging_buildflags",
        "cronet_aml_base_feature_list_buildflags",
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_base_ios_cronet_buildflags",
        "cronet_aml_base_logging_buildflags",
        "cronet_aml_base_message_pump_buildflags",
        "cronet_aml_base_orderfile_buildflags",
        "cronet_aml_base_power_monitor_buildflags",
        "cronet_aml_base_process_launcher_jni__action",
        "cronet_aml_base_profiler_buildflags",
        "cronet_aml_base_protected_memory_buildflags",
        "cronet_aml_base_rust_buildflags",
        "cronet_aml_base_sanitizer_buildflags",
        "cronet_aml_base_synchronization_buildflags",
        "cronet_aml_base_tracing_buildflags",
        "cronet_aml_build_blink_buildflags",
        "cronet_aml_build_branding_buildflags",
        "cronet_aml_build_chromecast_buildflags",
        "cronet_aml_build_chromeos_buildflags",
        "cronet_aml_build_config_compiler_compiler_buildflags",
        "cronet_aml_build_ios_buildflags",
        "cronet_aml_build_robolectric_buildflags",
    ],
    export_header_lib_headers: [
        "libgtest_prod_headers",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r26b_1",
        "-DBASE_IMPLEMENTATION",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DHAVE_SYS_UIO_H",
        "-DICU_UTIL_DATA_IMPL=ICU_UTIL_DATA_FILE",
        "-DIS_RAW_PTR_IMPL",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-DUSE_CHROMIUM_ICU=1",
        "-DU_ENABLE_DYLOAD=0",
        "-DU_ENABLE_RESOURCE_TRACING=0",
        "-DU_ENABLE_TRACING=1",
        "-DU_STATIC_IMPLEMENTATION",
        "-DU_USING_ICU_NAMESPACE=0",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-O2",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/base/allocator/partition_allocator/src/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/abseil-cpp/",
        "external/cronet/third_party/boringssl/src/include/",
        "external/cronet/third_party/cpu_features/src/ndk_compat/",
        "external/cronet/third_party/icu/source/common/",
        "external/cronet/third_party/icu/source/i18n/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    header_libs: [
        "libgtest_prod_headers",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
        "-Wl,--script,external/cronet/base/android/library_loader/anchor_functions.lds",
        "-Wl,-wrap,asprintf",
        "-Wl,-wrap,calloc",
        "-Wl,-wrap,free",
        "-Wl,-wrap,getcwd",
        "-Wl,-wrap,malloc",
        "-Wl,-wrap,malloc_usable_size",
        "-Wl,-wrap,memalign",
        "-Wl,-wrap,posix_memalign",
        "-Wl,-wrap,pvalloc",
        "-Wl,-wrap,realloc",
        "-Wl,-wrap,realpath",
        "-Wl,-wrap,strdup",
        "-Wl,-wrap,strndup",
        "-Wl,-wrap,valloc",
        "-Wl,-wrap,vasprintf",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            srcs: [
                "profiler/chrome_unwind_info_android.cc",
                "profiler/chrome_unwinder_android.cc",
                "trace_event/cfi_backtrace_android.cc",
            ],
            cflags: [
                "-D_FORTIFY_SOURCE=2",
            ],
        },
        android_arm64: {
            srcs: [
                "profiler/frame_pointer_unwinder.cc",
            ],
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-mno-outline",
            ],
        },
        android_x86: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
    },
}

// GN: //base:base__testing
cc_library_static {
    name: "cronet_aml_base_base__testing",
    srcs: [
        "allocator/allocator_check.cc",
        "allocator/dispatcher/dispatcher.cc",
        "allocator/dispatcher/internal/dispatch_data.cc",
        "allocator/dispatcher/memory_tagging.cc",
        "allocator/dispatcher/reentry_guard.cc",
        "allocator/dispatcher/tls.cc",
        "at_exit.cc",
        "barrier_closure.cc",
        "base64.cc",
        "base64url.cc",
        "base_paths.cc",
        "callback_list.cc",
        "check.cc",
        "check_is_test.cc",
        "check_op.cc",
        "command_line.cc",
        "containers/intrusive_heap.cc",
        "containers/linked_list.cc",
        "cpu.cc",
        "cpu_reduction_experiment.cc",
        "debug/alias.cc",
        "debug/asan_invalid_access.cc",
        "debug/asan_service.cc",
        "debug/crash_logging.cc",
        "debug/debugger.cc",
        "debug/debugger_posix.cc",
        "debug/dump_without_crashing.cc",
        "debug/elf_reader.cc",
        "debug/proc_maps_linux.cc",
        "debug/profiler.cc",
        "debug/stack_trace.cc",
        "debug/task_trace.cc",
        "environment.cc",
        "feature_list.cc",
        "features.cc",
        "file_descriptor_posix.cc",
        "file_descriptor_store.cc",
        "files/block_tests_writing_to_special_dirs.cc",
        "files/file.cc",
        "files/file_descriptor_watcher_posix.cc",
        "files/file_enumerator.cc",
        "files/file_enumerator_posix.cc",
        "files/file_path.cc",
        "files/file_path_watcher.cc",
        "files/file_path_watcher_inotify.cc",
        "files/file_posix.cc",
        "files/file_proxy.cc",
        "files/file_tracing.cc",
        "files/file_util.cc",
        "files/file_util_posix.cc",
        "files/important_file_writer.cc",
        "files/important_file_writer_cleaner.cc",
        "files/memory_mapped_file.cc",
        "files/memory_mapped_file_posix.cc",
        "files/safe_base_name.cc",
        "files/scoped_file.cc",
        "files/scoped_temp_dir.cc",
        "files/scoped_temp_file.cc",
        "functional/callback_helpers.cc",
        "functional/callback_internal.cc",
        "functional/concurrent_closures.cc",
        "hash/hash.cc",
        "hash/legacy_hash.cc",
        "hash/md5_boringssl.cc",
        "hash/sha1_boringssl.cc",
        "json/json_file_value_serializer.cc",
        "json/json_parser.cc",
        "json/json_reader.cc",
        "json/json_string_value_serializer.cc",
        "json/json_value_converter.cc",
        "json/json_writer.cc",
        "json/string_escape.cc",
        "json/values_util.cc",
        "lazy_instance_helpers.cc",
        "linux_util.cc",
        "location.cc",
        "logging.cc",
        "memory/aligned_memory.cc",
        "memory/discardable_memory.cc",
        "memory/discardable_memory_allocator.cc",
        "memory/discardable_shared_memory.cc",
        "memory/madv_free_discardable_memory_allocator_posix.cc",
        "memory/madv_free_discardable_memory_posix.cc",
        "memory/memory_pressure_listener.cc",
        "memory/memory_pressure_monitor.cc",
        "memory/nonscannable_memory.cc",
        "memory/page_size_posix.cc",
        "memory/platform_shared_memory_handle.cc",
        "memory/platform_shared_memory_region.cc",
        "memory/post_delayed_memory_reduction_task.cc",
        "memory/raw_ptr_asan_bound_arg_tracker.cc",
        "memory/raw_ptr_asan_hooks.cc",
        "memory/raw_ptr_asan_service.cc",
        "memory/read_only_shared_memory_region.cc",
        "memory/ref_counted.cc",
        "memory/ref_counted_memory.cc",
        "memory/shared_memory_mapper.cc",
        "memory/shared_memory_mapping.cc",
        "memory/shared_memory_security_policy.cc",
        "memory/shared_memory_switch.cc",
        "memory/shared_memory_tracker.cc",
        "memory/unsafe_shared_memory_pool.cc",
        "memory/unsafe_shared_memory_region.cc",
        "memory/weak_ptr.cc",
        "memory/writable_shared_memory_region.cc",
        "message_loop/message_pump.cc",
        "message_loop/message_pump_default.cc",
        "message_loop/message_pump_epoll.cc",
        "message_loop/message_pump_libevent.cc",
        "message_loop/watchable_io_message_pump_posix.cc",
        "message_loop/work_id_provider.cc",
        "metrics/bucket_ranges.cc",
        "metrics/crc32.cc",
        "metrics/dummy_histogram.cc",
        "metrics/field_trial.cc",
        "metrics/field_trial_list_including_low_anonymity.cc",
        "metrics/field_trial_param_associator.cc",
        "metrics/field_trial_params.cc",
        "metrics/histogram.cc",
        "metrics/histogram_base.cc",
        "metrics/histogram_delta_serialization.cc",
        "metrics/histogram_functions.cc",
        "metrics/histogram_samples.cc",
        "metrics/histogram_shared_memory.cc",
        "metrics/histogram_snapshot_manager.cc",
        "metrics/metrics_hashes.cc",
        "metrics/persistent_histogram_allocator.cc",
        "metrics/persistent_histogram_storage.cc",
        "metrics/persistent_memory_allocator.cc",
        "metrics/persistent_sample_map.cc",
        "metrics/ranges_manager.cc",
        "metrics/sample_map.cc",
        "metrics/sample_vector.cc",
        "metrics/single_sample_metrics.cc",
        "metrics/sparse_histogram.cc",
        "metrics/statistics_recorder.cc",
        "metrics/user_metrics.cc",
        "native_library.cc",
        "native_library_posix.cc",
        "observer_list_internal.cc",
        "observer_list_threadsafe.cc",
        "observer_list_types.cc",
        "one_shot_event.cc",
        "path_service.cc",
        "pending_task.cc",
        "pickle.cc",
        "posix/can_lower_nice_to.cc",
        "posix/file_descriptor_shuffle.cc",
        "posix/global_descriptors.cc",
        "posix/safe_strerror.cc",
        "posix/unix_domain_socket.cc",
        "power_monitor/battery_level_provider.cc",
        "power_monitor/battery_state_sampler.cc",
        "power_monitor/cpu_frequency_utils.cc",
        "power_monitor/power_monitor.cc",
        "power_monitor/power_monitor_device_source.cc",
        "power_monitor/power_monitor_features.cc",
        "power_monitor/power_monitor_source.cc",
        "power_monitor/sampling_event_source.cc",
        "power_monitor/timer_sampling_event_source.cc",
        "process/current_process.cc",
        "process/environment_internal.cc",
        "process/internal_linux.cc",
        "process/kill.cc",
        "process/kill_posix.cc",
        "process/launch.cc",
        "process/launch_posix.cc",
        "process/memory.cc",
        "process/memory_linux.cc",
        "process/process_handle.cc",
        "process/process_handle_linux.cc",
        "process/process_handle_posix.cc",
        "process/process_iterator.cc",
        "process/process_iterator_linux.cc",
        "process/process_metrics.cc",
        "process/process_metrics_linux.cc",
        "process/process_metrics_posix.cc",
        "process/process_posix.cc",
        "process/set_process_title.cc",
        "profiler/frame.cc",
        "profiler/metadata_recorder.cc",
        "profiler/module_cache.cc",
        "profiler/module_cache_posix.cc",
        "profiler/sample_metadata.cc",
        "profiler/sampling_profiler_thread_token.cc",
        "profiler/stack_base_address_posix.cc",
        "profiler/stack_buffer.cc",
        "profiler/stack_copier.cc",
        "profiler/stack_copier_signal.cc",
        "profiler/stack_copier_suspend.cc",
        "profiler/stack_sampler.cc",
        "profiler/stack_sampling_profiler.cc",
        "profiler/thread_delegate_posix.cc",
        "profiler/unwinder.cc",
        "rand_util.cc",
        "rand_util_posix.cc",
        "run_loop.cc",
        "sampling_heap_profiler/lock_free_address_hash_set.cc",
        "sampling_heap_profiler/poisson_allocation_sampler.cc",
        "sampling_heap_profiler/sampling_heap_profiler.cc",
        "scoped_add_feature_flags.cc",
        "scoped_environment_variable_override.cc",
        "scoped_native_library.cc",
        "sequence_checker.cc",
        "sequence_checker_impl.cc",
        "sequence_token.cc",
        "strings/abseil_string_number_conversions.cc",
        "strings/escape.cc",
        "strings/latin1_string_conversions.cc",
        "strings/levenshtein_distance.cc",
        "strings/pattern.cc",
        "strings/safe_sprintf.cc",
        "strings/strcat.cc",
        "strings/string_number_conversions.cc",
        "strings/string_split.cc",
        "strings/string_util.cc",
        "strings/string_util_constants.cc",
        "strings/stringprintf.cc",
        "strings/sys_string_conversions_posix.cc",
        "strings/utf_offset_string_conversions.cc",
        "strings/utf_ostream_operators.cc",
        "strings/utf_string_conversion_utils.cc",
        "strings/utf_string_conversions.cc",
        "substring_set_matcher/matcher_string_pattern.cc",
        "substring_set_matcher/substring_set_matcher.cc",
        "supports_user_data.cc",
        "sync_socket.cc",
        "sync_socket_posix.cc",
        "synchronization/atomic_flag.cc",
        "synchronization/condition_variable_posix.cc",
        "synchronization/lock.cc",
        "synchronization/lock_impl_posix.cc",
        "synchronization/waitable_event.cc",
        "synchronization/waitable_event_posix.cc",
        "synchronization/waitable_event_watcher_posix.cc",
        "syslog_logging.cc",
        "system/sys_info.cc",
        "system/sys_info_linux.cc",
        "system/sys_info_posix.cc",
        "system/system_monitor.cc",
        "task/cancelable_task_tracker.cc",
        "task/common/checked_lock_impl.cc",
        "task/common/lazy_now.cc",
        "task/common/operations_controller.cc",
        "task/common/scoped_defer_task_posting.cc",
        "task/common/task_annotator.cc",
        "task/current_thread.cc",
        "task/default_delayed_task_handle_delegate.cc",
        "task/deferred_sequenced_task_runner.cc",
        "task/delayed_task_handle.cc",
        "task/lazy_thread_pool_task_runner.cc",
        "task/post_job.cc",
        "task/scoped_set_task_priority_for_current_thread.cc",
        "task/sequence_manager/associated_thread_id.cc",
        "task/sequence_manager/atomic_flag_set.cc",
        "task/sequence_manager/delayed_task_handle_delegate.cc",
        "task/sequence_manager/enqueue_order_generator.cc",
        "task/sequence_manager/fence.cc",
        "task/sequence_manager/sequence_manager.cc",
        "task/sequence_manager/sequence_manager_impl.cc",
        "task/sequence_manager/sequenced_task_source.cc",
        "task/sequence_manager/task_order.cc",
        "task/sequence_manager/task_queue.cc",
        "task/sequence_manager/task_queue_impl.cc",
        "task/sequence_manager/task_queue_selector.cc",
        "task/sequence_manager/tasks.cc",
        "task/sequence_manager/thread_controller.cc",
        "task/sequence_manager/thread_controller_impl.cc",
        "task/sequence_manager/thread_controller_power_monitor.cc",
        "task/sequence_manager/thread_controller_with_message_pump_impl.cc",
        "task/sequence_manager/time_domain.cc",
        "task/sequence_manager/wake_up_queue.cc",
        "task/sequence_manager/work_deduplicator.cc",
        "task/sequence_manager/work_queue.cc",
        "task/sequence_manager/work_queue_sets.cc",
        "task/sequence_manager/work_tracker.cc",
        "task/sequenced_task_runner.cc",
        "task/single_thread_task_executor.cc",
        "task/single_thread_task_runner.cc",
        "task/task_features.cc",
        "task/task_runner.cc",
        "task/task_traits.cc",
        "task/thread_pool.cc",
        "task/thread_pool/delayed_priority_queue.cc",
        "task/thread_pool/delayed_task_manager.cc",
        "task/thread_pool/environment_config.cc",
        "task/thread_pool/initialization_util.cc",
        "task/thread_pool/job_task_source.cc",
        "task/thread_pool/pooled_parallel_task_runner.cc",
        "task/thread_pool/pooled_sequenced_task_runner.cc",
        "task/thread_pool/pooled_single_thread_task_runner_manager.cc",
        "task/thread_pool/pooled_task_runner_delegate.cc",
        "task/thread_pool/priority_queue.cc",
        "task/thread_pool/semaphore/semaphore_posix.cc",
        "task/thread_pool/sequence.cc",
        "task/thread_pool/service_thread.cc",
        "task/thread_pool/task.cc",
        "task/thread_pool/task_source.cc",
        "task/thread_pool/task_source_sort_key.cc",
        "task/thread_pool/task_tracker.cc",
        "task/thread_pool/thread_group.cc",
        "task/thread_pool/thread_group_impl.cc",
        "task/thread_pool/thread_group_semaphore.cc",
        "task/thread_pool/thread_group_worker_delegate.cc",
        "task/thread_pool/thread_pool_impl.cc",
        "task/thread_pool/thread_pool_instance.cc",
        "task/thread_pool/worker_thread.cc",
        "task/thread_pool/worker_thread_semaphore.cc",
        "task/thread_pool/worker_thread_set.cc",
        "task/thread_pool/worker_thread_waitable_event.cc",
        "third_party/nspr/prtime.cc",
        "threading/hang_watcher.cc",
        "threading/platform_thread.cc",
        "threading/platform_thread_internal_posix.cc",
        "threading/platform_thread_posix.cc",
        "threading/platform_thread_ref.cc",
        "threading/post_task_and_reply_impl.cc",
        "threading/scoped_blocking_call.cc",
        "threading/scoped_blocking_call_internal.cc",
        "threading/scoped_thread_priority.cc",
        "threading/sequence_local_storage_map.cc",
        "threading/sequence_local_storage_slot.cc",
        "threading/simple_thread.cc",
        "threading/thread.cc",
        "threading/thread_checker.cc",
        "threading/thread_checker_impl.cc",
        "threading/thread_collision_warner.cc",
        "threading/thread_id_name_manager.cc",
        "threading/thread_local_storage.cc",
        "threading/thread_local_storage_posix.cc",
        "threading/thread_restrictions.cc",
        "threading/watchdog.cc",
        "time/clock.cc",
        "time/default_clock.cc",
        "time/default_tick_clock.cc",
        "time/tick_clock.cc",
        "time/time.cc",
        "time/time_conversion_posix.cc",
        "time/time_delta_from_string.cc",
        "time/time_exploded_icu.cc",
        "time/time_exploded_posix.cc",
        "time/time_now_posix.cc",
        "time/time_override.cc",
        "timer/elapsed_timer.cc",
        "timer/hi_res_timer_manager_posix.cc",
        "timer/lap_timer.cc",
        "timer/timer.cc",
        "timer/wall_clock_timer.cc",
        "token.cc",
        "trace_event/heap_profiler_allocation_context.cc",
        "trace_event/heap_profiler_allocation_context_tracker.cc",
        "trace_event/memory_allocator_dump_guid.cc",
        "trace_event/named_trigger.cc",
        "trace_event/trace_event_stub.cc",
        "trace_event/trace_id_helper.cc",
        "unguessable_token.cc",
        "uuid.cc",
        "value_iterators.cc",
        "values.cc",
        "version.cc",
        "vlog.cc",
    ],
    host_supported: true,
    generated_headers: [
        "cronet_aml_base_allocator_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags__testing",
        "cronet_aml_base_anchor_functions_buildflags__testing",
        "cronet_aml_base_build_date__testing",
        "cronet_aml_base_cfi_buildflags__testing",
        "cronet_aml_base_check_version_internal_action__testing",
        "cronet_aml_base_clang_profiling_buildflags__testing",
        "cronet_aml_base_debugging_buildflags__testing",
        "cronet_aml_base_feature_list_buildflags__testing",
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_base_ios_cronet_buildflags__testing",
        "cronet_aml_base_logging_buildflags__testing",
        "cronet_aml_base_message_pump_buildflags__testing",
        "cronet_aml_base_orderfile_buildflags__testing",
        "cronet_aml_base_power_monitor_buildflags__testing",
        "cronet_aml_base_profiler_buildflags__testing",
        "cronet_aml_base_protected_memory_buildflags__testing",
        "cronet_aml_base_rust_buildflags__testing",
        "cronet_aml_base_sanitizer_buildflags__testing",
        "cronet_aml_base_synchronization_buildflags__testing",
        "cronet_aml_base_tracing_buildflags__testing",
        "cronet_aml_build_blink_buildflags__testing",
        "cronet_aml_build_branding_buildflags__testing",
        "cronet_aml_build_chromecast_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
        "cronet_aml_build_config_compiler_compiler_buildflags__testing",
        "cronet_aml_build_ios_buildflags__testing",
    ],
    export_generated_headers: [
        "cronet_aml_base_allocator_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags__testing",
        "cronet_aml_base_anchor_functions_buildflags__testing",
        "cronet_aml_base_build_date__testing",
        "cronet_aml_base_cfi_buildflags__testing",
        "cronet_aml_base_check_version_internal_action__testing",
        "cronet_aml_base_clang_profiling_buildflags__testing",
        "cronet_aml_base_debugging_buildflags__testing",
        "cronet_aml_base_feature_list_buildflags__testing",
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_base_ios_cronet_buildflags__testing",
        "cronet_aml_base_logging_buildflags__testing",
        "cronet_aml_base_message_pump_buildflags__testing",
        "cronet_aml_base_orderfile_buildflags__testing",
        "cronet_aml_base_power_monitor_buildflags__testing",
        "cronet_aml_base_profiler_buildflags__testing",
        "cronet_aml_base_protected_memory_buildflags__testing",
        "cronet_aml_base_rust_buildflags__testing",
        "cronet_aml_base_sanitizer_buildflags__testing",
        "cronet_aml_base_synchronization_buildflags__testing",
        "cronet_aml_base_tracing_buildflags__testing",
        "cronet_aml_build_blink_buildflags__testing",
        "cronet_aml_build_branding_buildflags__testing",
        "cronet_aml_build_chromecast_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
        "cronet_aml_build_config_compiler_compiler_buildflags__testing",
        "cronet_aml_build_ios_buildflags__testing",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DBASE_IMPLEMENTATION",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DICU_UTIL_DATA_IMPL=ICU_UTIL_DATA_FILE",
        "-DIS_RAW_PTR_IMPL",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-DUSE_CHROMIUM_ICU=1",
        "-DU_ENABLE_DYLOAD=0",
        "-DU_ENABLE_RESOURCE_TRACING=0",
        "-DU_ENABLE_TRACING=1",
        "-DU_STATIC_IMPLEMENTATION",
        "-DU_USING_ICU_NAMESPACE=0",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-O2",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/base/allocator/partition_allocator/src/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/abseil-cpp/",
        "external/cronet/third_party/boringssl/src/include/",
        "external/cronet/third_party/icu/source/common/",
        "external/cronet/third_party/icu/source/i18n/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
        "-Wl,--script,external/cronet/base/android/library_loader/anchor_functions.lds",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android: {
            shared_libs: [
                "libandroid",
                "liblog",
            ],
        },
        android_arm: {
            srcs: [
                "android/android_hardware_buffer_compat.cc",
                "android/android_image_reader_compat.cc",
                "android/apk_assets.cc",
                "android/application_status_listener.cc",
                "android/base_jni_onload.cc",
                "android/build_info.cc",
                "android/bundle_utils.cc",
                "android/callback_android.cc",
                "android/child_process_service.cc",
                "android/command_line_android.cc",
                "android/content_uri_utils.cc",
                "android/cpu_features.cc",
                "android/early_trace_event_binding.cc",
                "android/event_log.cc",
                "android/feature_list_jni.cc",
                "android/feature_map.cc",
                "android/features_jni.cc",
                "android/field_trial_list.cc",
                "android/important_file_writer_android.cc",
                "android/input_hint_checker.cc",
                "android/int_string_callback.cc",
                "android/jank_metric_uma_recorder.cc",
                "android/java_exception_reporter.cc",
                "android/java_handler_thread.cc",
                "android/java_heap_dump_generator.cc",
                "android/java_runtime.cc",
                "android/jni_android.cc",
                "android/jni_array.cc",
                "android/jni_bytebuffer.cc",
                "android/jni_conversions.cc",
                "android/jni_registrar.cc",
                "android/jni_string.cc",
                "android/jni_utils.cc",
                "android/jni_weak_ref.cc",
                "android/library_loader/anchor_functions.cc",
                "android/library_loader/library_loader_hooks.cc",
                "android/library_loader/library_prefetcher.cc",
                "android/library_loader/library_prefetcher_hooks.cc",
                "android/locale_utils.cc",
                "android/meminfo_dump_provider.cc",
                "android/memory_pressure_listener_android.cc",
                "android/memory_purge_manager_android.cc",
                "android/native_uma_recorder.cc",
                "android/path_service_android.cc",
                "android/path_utils.cc",
                "android/pmf_utils.cc",
                "android/pre_freeze_background_memory_trimmer.cc",
                "android/radio_utils.cc",
                "android/scoped_hardware_buffer_fence_sync.cc",
                "android/scoped_hardware_buffer_handle.cc",
                "android/shared_preferences/shared_preferences_manager.cc",
                "android/statistics_recorder_android.cc",
                "android/sys_utils.cc",
                "android/task_scheduler/post_task_android.cc",
                "android/task_scheduler/task_runner_android.cc",
                "android/thread_instruction_count.cc",
                "android/timezone_utils.cc",
                "android/token_android.cc",
                "android/trace_event_binding.cc",
                "android/unguessable_token_android.cc",
                "base_paths_android.cc",
                "debug/stack_trace_android.cc",
                "files/file_util_android.cc",
                "files/scoped_file_android.cc",
                "memory/platform_shared_memory_mapper_android.cc",
                "memory/platform_shared_memory_region_android.cc",
                "message_loop/message_pump_android.cc",
                "os_compat_android.cc",
                "power_monitor/power_monitor_device_source_android.cc",
                "process/process_android.cc",
                "profiler/chrome_unwind_info_android.cc",
                "profiler/chrome_unwinder_android.cc",
                "profiler/stack_sampler_android.cc",
                "system/sys_info_android.cc",
                "threading/platform_thread_android.cc",
                "time/time_android.cc",
                "trace_event/cfi_backtrace_android.cc",
            ],
            shared_libs: [
                "liblog",
            ],
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
            include_dirs: [
                "external/cronet/third_party/cpu_features/src/ndk_compat/",
            ],
            generated_headers: [
                "cronet_aml_base_android_runtime_jni_headers__action__testing",
                "cronet_aml_base_base_jni__action__testing",
                "cronet_aml_base_base_shared_preferences_jni__action__testing",
                "cronet_aml_base_process_launcher_jni__action__testing",
                "cronet_aml_build_robolectric_buildflags__testing",
            ],
            ldflags: [
                "-Wl,-wrap,asprintf",
                "-Wl,-wrap,calloc",
                "-Wl,-wrap,free",
                "-Wl,-wrap,getcwd",
                "-Wl,-wrap,malloc",
                "-Wl,-wrap,malloc_usable_size",
                "-Wl,-wrap,memalign",
                "-Wl,-wrap,posix_memalign",
                "-Wl,-wrap,pvalloc",
                "-Wl,-wrap,realloc",
                "-Wl,-wrap,realpath",
                "-Wl,-wrap,strdup",
                "-Wl,-wrap,strndup",
                "-Wl,-wrap,valloc",
                "-Wl,-wrap,vasprintf",
            ],
        },
        android_arm64: {
            srcs: [
                "android/android_hardware_buffer_compat.cc",
                "android/android_image_reader_compat.cc",
                "android/apk_assets.cc",
                "android/application_status_listener.cc",
                "android/base_jni_onload.cc",
                "android/build_info.cc",
                "android/bundle_utils.cc",
                "android/callback_android.cc",
                "android/child_process_service.cc",
                "android/command_line_android.cc",
                "android/content_uri_utils.cc",
                "android/cpu_features.cc",
                "android/early_trace_event_binding.cc",
                "android/event_log.cc",
                "android/feature_list_jni.cc",
                "android/feature_map.cc",
                "android/features_jni.cc",
                "android/field_trial_list.cc",
                "android/important_file_writer_android.cc",
                "android/input_hint_checker.cc",
                "android/int_string_callback.cc",
                "android/jank_metric_uma_recorder.cc",
                "android/java_exception_reporter.cc",
                "android/java_handler_thread.cc",
                "android/java_heap_dump_generator.cc",
                "android/java_runtime.cc",
                "android/jni_android.cc",
                "android/jni_array.cc",
                "android/jni_bytebuffer.cc",
                "android/jni_conversions.cc",
                "android/jni_registrar.cc",
                "android/jni_string.cc",
                "android/jni_utils.cc",
                "android/jni_weak_ref.cc",
                "android/library_loader/anchor_functions.cc",
                "android/library_loader/library_loader_hooks.cc",
                "android/library_loader/library_prefetcher.cc",
                "android/library_loader/library_prefetcher_hooks.cc",
                "android/locale_utils.cc",
                "android/meminfo_dump_provider.cc",
                "android/memory_pressure_listener_android.cc",
                "android/memory_purge_manager_android.cc",
                "android/native_uma_recorder.cc",
                "android/path_service_android.cc",
                "android/path_utils.cc",
                "android/pmf_utils.cc",
                "android/pre_freeze_background_memory_trimmer.cc",
                "android/radio_utils.cc",
                "android/scoped_hardware_buffer_fence_sync.cc",
                "android/scoped_hardware_buffer_handle.cc",
                "android/shared_preferences/shared_preferences_manager.cc",
                "android/statistics_recorder_android.cc",
                "android/sys_utils.cc",
                "android/task_scheduler/post_task_android.cc",
                "android/task_scheduler/task_runner_android.cc",
                "android/thread_instruction_count.cc",
                "android/timezone_utils.cc",
                "android/token_android.cc",
                "android/trace_event_binding.cc",
                "android/unguessable_token_android.cc",
                "base_paths_android.cc",
                "debug/stack_trace_android.cc",
                "files/file_util_android.cc",
                "files/scoped_file_android.cc",
                "memory/platform_shared_memory_mapper_android.cc",
                "memory/platform_shared_memory_region_android.cc",
                "message_loop/message_pump_android.cc",
                "os_compat_android.cc",
                "power_monitor/power_monitor_device_source_android.cc",
                "process/process_android.cc",
                "profiler/frame_pointer_unwinder.cc",
                "profiler/stack_sampler_android.cc",
                "system/sys_info_android.cc",
                "threading/platform_thread_android.cc",
                "time/time_android.cc",
            ],
            shared_libs: [
                "liblog",
            ],
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-mno-outline",
            ],
            include_dirs: [
                "external/cronet/third_party/cpu_features/src/ndk_compat/",
            ],
            generated_headers: [
                "cronet_aml_base_android_runtime_jni_headers__action__testing",
                "cronet_aml_base_base_jni__action__testing",
                "cronet_aml_base_base_shared_preferences_jni__action__testing",
                "cronet_aml_base_process_launcher_jni__action__testing",
                "cronet_aml_build_robolectric_buildflags__testing",
            ],
            ldflags: [
                "-Wl,-wrap,asprintf",
                "-Wl,-wrap,calloc",
                "-Wl,-wrap,free",
                "-Wl,-wrap,getcwd",
                "-Wl,-wrap,malloc",
                "-Wl,-wrap,malloc_usable_size",
                "-Wl,-wrap,memalign",
                "-Wl,-wrap,posix_memalign",
                "-Wl,-wrap,pvalloc",
                "-Wl,-wrap,realloc",
                "-Wl,-wrap,realpath",
                "-Wl,-wrap,strdup",
                "-Wl,-wrap,strndup",
                "-Wl,-wrap,valloc",
                "-Wl,-wrap,vasprintf",
            ],
        },
        android_riscv64: {
            srcs: [
                "android/android_hardware_buffer_compat.cc",
                "android/android_image_reader_compat.cc",
                "android/apk_assets.cc",
                "android/application_status_listener.cc",
                "android/base_jni_onload.cc",
                "android/build_info.cc",
                "android/bundle_utils.cc",
                "android/callback_android.cc",
                "android/child_process_service.cc",
                "android/command_line_android.cc",
                "android/content_uri_utils.cc",
                "android/cpu_features.cc",
                "android/early_trace_event_binding.cc",
                "android/event_log.cc",
                "android/feature_list_jni.cc",
                "android/feature_map.cc",
                "android/features_jni.cc",
                "android/field_trial_list.cc",
                "android/important_file_writer_android.cc",
                "android/input_hint_checker.cc",
                "android/int_string_callback.cc",
                "android/jank_metric_uma_recorder.cc",
                "android/java_exception_reporter.cc",
                "android/java_handler_thread.cc",
                "android/java_heap_dump_generator.cc",
                "android/java_runtime.cc",
                "android/jni_android.cc",
                "android/jni_array.cc",
                "android/jni_bytebuffer.cc",
                "android/jni_conversions.cc",
                "android/jni_registrar.cc",
                "android/jni_string.cc",
                "android/jni_utils.cc",
                "android/jni_weak_ref.cc",
                "android/library_loader/anchor_functions.cc",
                "android/library_loader/library_loader_hooks.cc",
                "android/library_loader/library_prefetcher.cc",
                "android/library_loader/library_prefetcher_hooks.cc",
                "android/locale_utils.cc",
                "android/meminfo_dump_provider.cc",
                "android/memory_pressure_listener_android.cc",
                "android/memory_purge_manager_android.cc",
                "android/native_uma_recorder.cc",
                "android/path_service_android.cc",
                "android/path_utils.cc",
                "android/pmf_utils.cc",
                "android/pre_freeze_background_memory_trimmer.cc",
                "android/radio_utils.cc",
                "android/scoped_hardware_buffer_fence_sync.cc",
                "android/scoped_hardware_buffer_handle.cc",
                "android/shared_preferences/shared_preferences_manager.cc",
                "android/statistics_recorder_android.cc",
                "android/sys_utils.cc",
                "android/task_scheduler/post_task_android.cc",
                "android/task_scheduler/task_runner_android.cc",
                "android/thread_instruction_count.cc",
                "android/timezone_utils.cc",
                "android/token_android.cc",
                "android/trace_event_binding.cc",
                "android/unguessable_token_android.cc",
                "base_paths_android.cc",
                "debug/stack_trace_android.cc",
                "files/file_util_android.cc",
                "files/scoped_file_android.cc",
                "memory/platform_shared_memory_mapper_android.cc",
                "memory/platform_shared_memory_region_android.cc",
                "message_loop/message_pump_android.cc",
                "os_compat_android.cc",
                "power_monitor/power_monitor_device_source_android.cc",
                "process/process_android.cc",
                "profiler/stack_sampler_android.cc",
                "system/sys_info_android.cc",
                "threading/platform_thread_android.cc",
                "time/time_android.cc",
            ],
            shared_libs: [
                "liblog",
            ],
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
            include_dirs: [
                "external/cronet/third_party/cpu_features/src/ndk_compat/",
            ],
            generated_headers: [
                "cronet_aml_base_android_runtime_jni_headers__action__testing",
                "cronet_aml_base_base_jni__action__testing",
                "cronet_aml_base_base_shared_preferences_jni__action__testing",
                "cronet_aml_base_process_launcher_jni__action__testing",
                "cronet_aml_build_robolectric_buildflags__testing",
            ],
            ldflags: [
                "-Wl,-wrap,asprintf",
                "-Wl,-wrap,calloc",
                "-Wl,-wrap,free",
                "-Wl,-wrap,getcwd",
                "-Wl,-wrap,malloc",
                "-Wl,-wrap,malloc_usable_size",
                "-Wl,-wrap,memalign",
                "-Wl,-wrap,posix_memalign",
                "-Wl,-wrap,pvalloc",
                "-Wl,-wrap,realloc",
                "-Wl,-wrap,realpath",
                "-Wl,-wrap,strdup",
                "-Wl,-wrap,strndup",
                "-Wl,-wrap,valloc",
                "-Wl,-wrap,vasprintf",
            ],
        },
        android_x86: {
            srcs: [
                "android/android_hardware_buffer_compat.cc",
                "android/android_image_reader_compat.cc",
                "android/apk_assets.cc",
                "android/application_status_listener.cc",
                "android/base_jni_onload.cc",
                "android/build_info.cc",
                "android/bundle_utils.cc",
                "android/callback_android.cc",
                "android/child_process_service.cc",
                "android/command_line_android.cc",
                "android/content_uri_utils.cc",
                "android/cpu_features.cc",
                "android/early_trace_event_binding.cc",
                "android/event_log.cc",
                "android/feature_list_jni.cc",
                "android/feature_map.cc",
                "android/features_jni.cc",
                "android/field_trial_list.cc",
                "android/important_file_writer_android.cc",
                "android/input_hint_checker.cc",
                "android/int_string_callback.cc",
                "android/jank_metric_uma_recorder.cc",
                "android/java_exception_reporter.cc",
                "android/java_handler_thread.cc",
                "android/java_heap_dump_generator.cc",
                "android/java_runtime.cc",
                "android/jni_android.cc",
                "android/jni_array.cc",
                "android/jni_bytebuffer.cc",
                "android/jni_conversions.cc",
                "android/jni_registrar.cc",
                "android/jni_string.cc",
                "android/jni_utils.cc",
                "android/jni_weak_ref.cc",
                "android/library_loader/anchor_functions.cc",
                "android/library_loader/library_loader_hooks.cc",
                "android/library_loader/library_prefetcher.cc",
                "android/library_loader/library_prefetcher_hooks.cc",
                "android/locale_utils.cc",
                "android/meminfo_dump_provider.cc",
                "android/memory_pressure_listener_android.cc",
                "android/memory_purge_manager_android.cc",
                "android/native_uma_recorder.cc",
                "android/path_service_android.cc",
                "android/path_utils.cc",
                "android/pmf_utils.cc",
                "android/pre_freeze_background_memory_trimmer.cc",
                "android/radio_utils.cc",
                "android/scoped_hardware_buffer_fence_sync.cc",
                "android/scoped_hardware_buffer_handle.cc",
                "android/shared_preferences/shared_preferences_manager.cc",
                "android/statistics_recorder_android.cc",
                "android/sys_utils.cc",
                "android/task_scheduler/post_task_android.cc",
                "android/task_scheduler/task_runner_android.cc",
                "android/thread_instruction_count.cc",
                "android/timezone_utils.cc",
                "android/token_android.cc",
                "android/trace_event_binding.cc",
                "android/unguessable_token_android.cc",
                "base_paths_android.cc",
                "debug/stack_trace_android.cc",
                "files/file_util_android.cc",
                "files/scoped_file_android.cc",
                "memory/platform_shared_memory_mapper_android.cc",
                "memory/platform_shared_memory_region_android.cc",
                "message_loop/message_pump_android.cc",
                "os_compat_android.cc",
                "power_monitor/power_monitor_device_source_android.cc",
                "process/process_android.cc",
                "profiler/stack_sampler_android.cc",
                "system/sys_info_android.cc",
                "threading/platform_thread_android.cc",
                "time/time_android.cc",
            ],
            shared_libs: [
                "liblog",
            ],
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
            include_dirs: [
                "external/cronet/third_party/cpu_features/src/ndk_compat/",
            ],
            generated_headers: [
                "cronet_aml_base_android_runtime_jni_headers__action__testing",
                "cronet_aml_base_base_jni__action__testing",
                "cronet_aml_base_base_shared_preferences_jni__action__testing",
                "cronet_aml_base_process_launcher_jni__action__testing",
                "cronet_aml_build_robolectric_buildflags__testing",
            ],
            ldflags: [
                "-Wl,-wrap,asprintf",
                "-Wl,-wrap,calloc",
                "-Wl,-wrap,free",
                "-Wl,-wrap,getcwd",
                "-Wl,-wrap,malloc",
                "-Wl,-wrap,malloc_usable_size",
                "-Wl,-wrap,memalign",
                "-Wl,-wrap,posix_memalign",
                "-Wl,-wrap,pvalloc",
                "-Wl,-wrap,realloc",
                "-Wl,-wrap,realpath",
                "-Wl,-wrap,strdup",
                "-Wl,-wrap,strndup",
                "-Wl,-wrap,valloc",
                "-Wl,-wrap,vasprintf",
            ],
        },
        android_x86_64: {
            srcs: [
                "android/android_hardware_buffer_compat.cc",
                "android/android_image_reader_compat.cc",
                "android/apk_assets.cc",
                "android/application_status_listener.cc",
                "android/base_jni_onload.cc",
                "android/build_info.cc",
                "android/bundle_utils.cc",
                "android/callback_android.cc",
                "android/child_process_service.cc",
                "android/command_line_android.cc",
                "android/content_uri_utils.cc",
                "android/cpu_features.cc",
                "android/early_trace_event_binding.cc",
                "android/event_log.cc",
                "android/feature_list_jni.cc",
                "android/feature_map.cc",
                "android/features_jni.cc",
                "android/field_trial_list.cc",
                "android/important_file_writer_android.cc",
                "android/input_hint_checker.cc",
                "android/int_string_callback.cc",
                "android/jank_metric_uma_recorder.cc",
                "android/java_exception_reporter.cc",
                "android/java_handler_thread.cc",
                "android/java_heap_dump_generator.cc",
                "android/java_runtime.cc",
                "android/jni_android.cc",
                "android/jni_array.cc",
                "android/jni_bytebuffer.cc",
                "android/jni_conversions.cc",
                "android/jni_registrar.cc",
                "android/jni_string.cc",
                "android/jni_utils.cc",
                "android/jni_weak_ref.cc",
                "android/library_loader/anchor_functions.cc",
                "android/library_loader/library_loader_hooks.cc",
                "android/library_loader/library_prefetcher.cc",
                "android/library_loader/library_prefetcher_hooks.cc",
                "android/locale_utils.cc",
                "android/meminfo_dump_provider.cc",
                "android/memory_pressure_listener_android.cc",
                "android/memory_purge_manager_android.cc",
                "android/native_uma_recorder.cc",
                "android/path_service_android.cc",
                "android/path_utils.cc",
                "android/pmf_utils.cc",
                "android/pre_freeze_background_memory_trimmer.cc",
                "android/radio_utils.cc",
                "android/scoped_hardware_buffer_fence_sync.cc",
                "android/scoped_hardware_buffer_handle.cc",
                "android/shared_preferences/shared_preferences_manager.cc",
                "android/statistics_recorder_android.cc",
                "android/sys_utils.cc",
                "android/task_scheduler/post_task_android.cc",
                "android/task_scheduler/task_runner_android.cc",
                "android/thread_instruction_count.cc",
                "android/timezone_utils.cc",
                "android/token_android.cc",
                "android/trace_event_binding.cc",
                "android/unguessable_token_android.cc",
                "base_paths_android.cc",
                "debug/stack_trace_android.cc",
                "files/file_util_android.cc",
                "files/scoped_file_android.cc",
                "memory/platform_shared_memory_mapper_android.cc",
                "memory/platform_shared_memory_region_android.cc",
                "message_loop/message_pump_android.cc",
                "os_compat_android.cc",
                "power_monitor/power_monitor_device_source_android.cc",
                "process/process_android.cc",
                "profiler/stack_sampler_android.cc",
                "system/sys_info_android.cc",
                "threading/platform_thread_android.cc",
                "time/time_android.cc",
            ],
            shared_libs: [
                "liblog",
            ],
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
            include_dirs: [
                "external/cronet/third_party/cpu_features/src/ndk_compat/",
            ],
            generated_headers: [
                "cronet_aml_base_android_runtime_jni_headers__action__testing",
                "cronet_aml_base_base_jni__action__testing",
                "cronet_aml_base_base_shared_preferences_jni__action__testing",
                "cronet_aml_base_process_launcher_jni__action__testing",
                "cronet_aml_build_robolectric_buildflags__testing",
            ],
            ldflags: [
                "-Wl,-wrap,asprintf",
                "-Wl,-wrap,calloc",
                "-Wl,-wrap,free",
                "-Wl,-wrap,getcwd",
                "-Wl,-wrap,malloc",
                "-Wl,-wrap,malloc_usable_size",
                "-Wl,-wrap,memalign",
                "-Wl,-wrap,posix_memalign",
                "-Wl,-wrap,pvalloc",
                "-Wl,-wrap,realloc",
                "-Wl,-wrap,realpath",
                "-Wl,-wrap,strdup",
                "-Wl,-wrap,strndup",
                "-Wl,-wrap,valloc",
                "-Wl,-wrap,vasprintf",
            ],
        },
        host: {
            srcs: [
                "base_paths_posix.cc",
                "debug/stack_trace_posix.cc",
                "files/scoped_file_linux.cc",
                "memory/platform_shared_memory_mapper_posix.cc",
                "memory/platform_shared_memory_region_posix.cc",
                "power_monitor/power_monitor_device_source_stub.cc",
                "process/process_linux.cc",
                "process/set_process_title_linux.cc",
                "profiler/stack_sampler_posix.cc",
                "stack_canary_linux.cc",
                "threading/platform_thread_linux.cc",
                "threading/platform_thread_linux_base.cc",
                "threading/thread_type_delegate.cc",
            ],
            cflags: [
                "-DCR_SYSROOT_KEY=20230611T210420Z-2",
                "-DUSE_AURA=1",
                "-DUSE_OZONE=1",
                "-DUSE_UDEV",
                "-D_FILE_OFFSET_BITS=64",
                "-D_FORTIFY_SOURCE=2",
                "-D_LARGEFILE64_SOURCE",
                "-D_LARGEFILE_SOURCE",
                "-msse3",
            ],
            compile_multilib: "64",
        },
    },
}

// GN: //base:base_cached_flags_java__testing
java_library {
    name: "cronet_aml_base_base_cached_flags_java__testing",
    srcs: [
        "android/java/src/org/chromium/base/cached_flags/AllCachedFieldTrialParameters.java",
        "android/java/src/org/chromium/base/cached_flags/BooleanCachedFieldTrialParameter.java",
        "android/java/src/org/chromium/base/cached_flags/CachedFieldTrialParameter.java",
        "android/java/src/org/chromium/base/cached_flags/CachedFlag.java",
        "android/java/src/org/chromium/base/cached_flags/CachedFlagUtils.java",
        "android/java/src/org/chromium/base/cached_flags/CachedFlagsSafeMode.java",
        "android/java/src/org/chromium/base/cached_flags/CachedFlagsSharedPreferences.java",
        "android/java/src/org/chromium/base/cached_flags/DoubleCachedFieldTrialParameter.java",
        "android/java/src/org/chromium/base/cached_flags/IntCachedFieldTrialParameter.java",
        "android/java/src/org/chromium/base/cached_flags/PostNativeFlag.java",
        "android/java/src/org/chromium/base/cached_flags/StringCachedFieldTrialParameter.java",
        "android/java/src/org/chromium/base/cached_flags/ValuesOverridden.java",
        "android/java/src/org/chromium/base/cached_flags/ValuesReturned.java",
    ],
    static_libs: [
        "cronet_aml_base_base_java__testing",
        "cronet_aml_base_base_shared_preferences_java__testing",
        "cronet_aml_base_version_info_android_version_constants_java__testing",
        "cronet_aml_build_android_build_java__testing",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "androidx.annotation_annotation",
    ],
    sdk_version: "current",
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
}

// GN: //base:base_java
java_library {
    name: "cronet_aml_base_base_java",
    srcs: [
        ":cronet_aml_base_base_android_java_enums_srcjar",
        ":cronet_aml_base_base_jni__action__java",
        ":cronet_aml_base_java_features_srcjar",
        ":cronet_aml_base_java_switches_srcjar",
        "android/java/src/org/chromium/base/ActivityState.java",
        "android/java/src/org/chromium/base/ApiCompatibilityUtils.java",
        "android/java/src/org/chromium/base/ApkAssets.java",
        "android/java/src/org/chromium/base/ApplicationStatus.java",
        "android/java/src/org/chromium/base/BuildInfo.java",
        "android/java/src/org/chromium/base/BundleUtils.java",
        "android/java/src/org/chromium/base/Callback.java",
        "android/java/src/org/chromium/base/CallbackController.java",
        "android/java/src/org/chromium/base/CollectionUtil.java",
        "android/java/src/org/chromium/base/CommandLine.java",
        "android/java/src/org/chromium/base/CommandLineInitUtil.java",
        "android/java/src/org/chromium/base/ContentUriUtils.java",
        "android/java/src/org/chromium/base/ContextUtils.java",
        "android/java/src/org/chromium/base/CpuFeatures.java",
        "android/java/src/org/chromium/base/DiscardableReferencePool.java",
        "android/java/src/org/chromium/base/EarlyTraceEvent.java",
        "android/java/src/org/chromium/base/EventLog.java",
        "android/java/src/org/chromium/base/FeatureList.java",
        "android/java/src/org/chromium/base/FeatureMap.java",
        "android/java/src/org/chromium/base/FeatureParam.java",
        "android/java/src/org/chromium/base/Features.java",
        "android/java/src/org/chromium/base/FieldTrialList.java",
        "android/java/src/org/chromium/base/FileUtils.java",
        "android/java/src/org/chromium/base/Flag.java",
        "android/java/src/org/chromium/base/ImportantFileWriterAndroid.java",
        "android/java/src/org/chromium/base/InputHintChecker.java",
        "android/java/src/org/chromium/base/IntStringCallback.java",
        "android/java/src/org/chromium/base/IntentUtils.java",
        "android/java/src/org/chromium/base/JNIUtils.java",
        "android/java/src/org/chromium/base/JavaExceptionReporter.java",
        "android/java/src/org/chromium/base/JavaHandlerThread.java",
        "android/java/src/org/chromium/base/JniAndroid.java",
        "android/java/src/org/chromium/base/LifetimeAssert.java",
        "android/java/src/org/chromium/base/LocaleUtils.java",
        "android/java/src/org/chromium/base/Log.java",
        "android/java/src/org/chromium/base/MathUtils.java",
        "android/java/src/org/chromium/base/MemoryPressureListener.java",
        "android/java/src/org/chromium/base/MutableBooleanParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableFlagWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableIntParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/ObserverList.java",
        "android/java/src/org/chromium/base/PackageManagerUtils.java",
        "android/java/src/org/chromium/base/PackageUtils.java",
        "android/java/src/org/chromium/base/PathService.java",
        "android/java/src/org/chromium/base/PathUtils.java",
        "android/java/src/org/chromium/base/PiiElider.java",
        "android/java/src/org/chromium/base/PowerMonitor.java",
        "android/java/src/org/chromium/base/PowerMonitorForQ.java",
        "android/java/src/org/chromium/base/Promise.java",
        "android/java/src/org/chromium/base/RadioUtils.java",
        "android/java/src/org/chromium/base/RequiredCallback.java",
        "android/java/src/org/chromium/base/ResettersForTesting.java",
        "android/java/src/org/chromium/base/StreamUtil.java",
        "android/java/src/org/chromium/base/StrictModeContext.java",
        "android/java/src/org/chromium/base/SysUtils.java",
        "android/java/src/org/chromium/base/ThreadUtils.java",
        "android/java/src/org/chromium/base/TimeUtils.java",
        "android/java/src/org/chromium/base/TimezoneUtils.java",
        "android/java/src/org/chromium/base/Token.java",
        "android/java/src/org/chromium/base/TraceEvent.java",
        "android/java/src/org/chromium/base/UnguessableToken.java",
        "android/java/src/org/chromium/base/UnownedUserData.java",
        "android/java/src/org/chromium/base/UnownedUserDataHost.java",
        "android/java/src/org/chromium/base/UnownedUserDataKey.java",
        "android/java/src/org/chromium/base/UserData.java",
        "android/java/src/org/chromium/base/UserDataHost.java",
        "android/java/src/org/chromium/base/ValueChangedCallback.java",
        "android/java/src/org/chromium/base/WrappedClassLoader.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForM.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForN.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForO.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForOMR1.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForP.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForQ.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForR.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForS.java",
        "android/java/src/org/chromium/base/jank_tracker/FrameMetricsListener.java",
        "android/java/src/org/chromium/base/jank_tracker/FrameMetricsStore.java",
        "android/java/src/org/chromium/base/jank_tracker/JankActivityTracker.java",
        "android/java/src/org/chromium/base/jank_tracker/JankEndScenarioTime.java",
        "android/java/src/org/chromium/base/jank_tracker/JankMetricUMARecorder.java",
        "android/java/src/org/chromium/base/jank_tracker/JankMetrics.java",
        "android/java/src/org/chromium/base/jank_tracker/JankReportingRunnable.java",
        "android/java/src/org/chromium/base/jank_tracker/JankReportingScheduler.java",
        "android/java/src/org/chromium/base/jank_tracker/JankScenario.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTracker.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTrackerImpl.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTrackerStateController.java",
        "android/java/src/org/chromium/base/jank_tracker/PlaceholderJankTracker.java",
        "android/java/src/org/chromium/base/library_loader/LibraryLoader.java",
        "android/java/src/org/chromium/base/library_loader/LibraryPrefetcher.java",
        "android/java/src/org/chromium/base/library_loader/Linker.java",
        "android/java/src/org/chromium/base/library_loader/LinkerJni.java",
        "android/java/src/org/chromium/base/library_loader/LoaderErrors.java",
        "android/java/src/org/chromium/base/library_loader/NativeLibraryPreloader.java",
        "android/java/src/org/chromium/base/library_loader/ProcessInitException.java",
        "android/java/src/org/chromium/base/lifetime/DestroyChecker.java",
        "android/java/src/org/chromium/base/lifetime/Destroyable.java",
        "android/java/src/org/chromium/base/memory/JavaHeapDumpGenerator.java",
        "android/java/src/org/chromium/base/memory/MemoryInfoBridge.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureCallback.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureMonitor.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureUma.java",
        "android/java/src/org/chromium/base/memory/MemoryPurgeManager.java",
        "android/java/src/org/chromium/base/metrics/CachingUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/HistogramBucket.java",
        "android/java/src/org/chromium/base/metrics/NativeUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/NoopUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/RecordHistogram.java",
        "android/java/src/org/chromium/base/metrics/RecordUserAction.java",
        "android/java/src/org/chromium/base/metrics/ScopedSysTraceEvent.java",
        "android/java/src/org/chromium/base/metrics/StatisticsRecorderAndroid.java",
        "android/java/src/org/chromium/base/metrics/TimingMetric.java",
        "android/java/src/org/chromium/base/metrics/UmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/UmaRecorderHolder.java",
        "android/java/src/org/chromium/base/supplier/DestroyableObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/LazyOneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/LazyOneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/ObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/ObservableSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/OneShotCallback.java",
        "android/java/src/org/chromium/base/supplier/OneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/OneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/Supplier.java",
        "android/java/src/org/chromium/base/supplier/SupplierUtils.java",
        "android/java/src/org/chromium/base/supplier/SyncOneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/SyncOneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/TransitiveObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/UnownedUserDataSupplier.java",
        "android/java/src/org/chromium/base/supplier/UnwrapObservableSupplier.java",
        "android/java/src/org/chromium/base/task/AsyncTask.java",
        "android/java/src/org/chromium/base/task/BackgroundOnlyAsyncTask.java",
        "android/java/src/org/chromium/base/task/ChainedTasks.java",
        "android/java/src/org/chromium/base/task/ChromeThreadPoolExecutor.java",
        "android/java/src/org/chromium/base/task/PostTask.java",
        "android/java/src/org/chromium/base/task/SequencedTaskRunner.java",
        "android/java/src/org/chromium/base/task/SequencedTaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/SerialExecutor.java",
        "android/java/src/org/chromium/base/task/SingleThreadTaskRunner.java",
        "android/java/src/org/chromium/base/task/SingleThreadTaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/TaskExecutor.java",
        "android/java/src/org/chromium/base/task/TaskRunner.java",
        "android/java/src/org/chromium/base/task/TaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/ThreadPoolTaskExecutor.java",
        "android/java/src/org/chromium/base/task/UiThreadTaskExecutor.java",
        "test/android/javatests/src/stub/org/chromium/base/test/ClangProfiler.java",
    ],
    static_libs: [
        "cronet_aml_build_android_build_java",
        "cronet_aml_third_party_jni_zero_jni_zero_java",
    ],
    defaults: [
        "cronet_aml_java_framework_defaults",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "androidx.annotation_annotation",
        "androidx.annotation_annotation-experimental",
        "error_prone_annotations",
        "jsr305",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
}

// GN: //base:base_java__testing
java_library {
    name: "cronet_aml_base_base_java__testing",
    srcs: [
        ":cronet_aml_base_base_android_java_enums_srcjar__testing",
        ":cronet_aml_base_base_jni__action__testing__java",
        ":cronet_aml_base_java_features_srcjar__testing",
        ":cronet_aml_base_java_switches_srcjar__testing",
        "android/java/src/org/chromium/base/ActivityState.java",
        "android/java/src/org/chromium/base/ApiCompatibilityUtils.java",
        "android/java/src/org/chromium/base/ApkAssets.java",
        "android/java/src/org/chromium/base/ApplicationStatus.java",
        "android/java/src/org/chromium/base/BuildInfo.java",
        "android/java/src/org/chromium/base/BundleUtils.java",
        "android/java/src/org/chromium/base/Callback.java",
        "android/java/src/org/chromium/base/CallbackController.java",
        "android/java/src/org/chromium/base/CollectionUtil.java",
        "android/java/src/org/chromium/base/CommandLine.java",
        "android/java/src/org/chromium/base/CommandLineInitUtil.java",
        "android/java/src/org/chromium/base/ContentUriUtils.java",
        "android/java/src/org/chromium/base/ContextUtils.java",
        "android/java/src/org/chromium/base/CpuFeatures.java",
        "android/java/src/org/chromium/base/DiscardableReferencePool.java",
        "android/java/src/org/chromium/base/EarlyTraceEvent.java",
        "android/java/src/org/chromium/base/EventLog.java",
        "android/java/src/org/chromium/base/FeatureList.java",
        "android/java/src/org/chromium/base/FeatureMap.java",
        "android/java/src/org/chromium/base/FeatureParam.java",
        "android/java/src/org/chromium/base/Features.java",
        "android/java/src/org/chromium/base/FieldTrialList.java",
        "android/java/src/org/chromium/base/FileUtils.java",
        "android/java/src/org/chromium/base/Flag.java",
        "android/java/src/org/chromium/base/ImportantFileWriterAndroid.java",
        "android/java/src/org/chromium/base/InputHintChecker.java",
        "android/java/src/org/chromium/base/IntStringCallback.java",
        "android/java/src/org/chromium/base/IntentUtils.java",
        "android/java/src/org/chromium/base/JNIUtils.java",
        "android/java/src/org/chromium/base/JavaExceptionReporter.java",
        "android/java/src/org/chromium/base/JavaHandlerThread.java",
        "android/java/src/org/chromium/base/JniAndroid.java",
        "android/java/src/org/chromium/base/LifetimeAssert.java",
        "android/java/src/org/chromium/base/LocaleUtils.java",
        "android/java/src/org/chromium/base/Log.java",
        "android/java/src/org/chromium/base/MathUtils.java",
        "android/java/src/org/chromium/base/MemoryPressureListener.java",
        "android/java/src/org/chromium/base/MutableBooleanParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableFlagWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableIntParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/MutableParamWithSafeDefault.java",
        "android/java/src/org/chromium/base/ObserverList.java",
        "android/java/src/org/chromium/base/PackageManagerUtils.java",
        "android/java/src/org/chromium/base/PackageUtils.java",
        "android/java/src/org/chromium/base/PathService.java",
        "android/java/src/org/chromium/base/PathUtils.java",
        "android/java/src/org/chromium/base/PiiElider.java",
        "android/java/src/org/chromium/base/PowerMonitor.java",
        "android/java/src/org/chromium/base/PowerMonitorForQ.java",
        "android/java/src/org/chromium/base/Promise.java",
        "android/java/src/org/chromium/base/RadioUtils.java",
        "android/java/src/org/chromium/base/RequiredCallback.java",
        "android/java/src/org/chromium/base/ResettersForTesting.java",
        "android/java/src/org/chromium/base/StreamUtil.java",
        "android/java/src/org/chromium/base/StrictModeContext.java",
        "android/java/src/org/chromium/base/SysUtils.java",
        "android/java/src/org/chromium/base/ThreadUtils.java",
        "android/java/src/org/chromium/base/TimeUtils.java",
        "android/java/src/org/chromium/base/TimezoneUtils.java",
        "android/java/src/org/chromium/base/Token.java",
        "android/java/src/org/chromium/base/TraceEvent.java",
        "android/java/src/org/chromium/base/UnguessableToken.java",
        "android/java/src/org/chromium/base/UnownedUserData.java",
        "android/java/src/org/chromium/base/UnownedUserDataHost.java",
        "android/java/src/org/chromium/base/UnownedUserDataKey.java",
        "android/java/src/org/chromium/base/UserData.java",
        "android/java/src/org/chromium/base/UserDataHost.java",
        "android/java/src/org/chromium/base/ValueChangedCallback.java",
        "android/java/src/org/chromium/base/WrappedClassLoader.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForM.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForN.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForO.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForOMR1.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForP.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForQ.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForR.java",
        "android/java/src/org/chromium/base/compat/ApiHelperForS.java",
        "android/java/src/org/chromium/base/jank_tracker/FrameMetricsListener.java",
        "android/java/src/org/chromium/base/jank_tracker/FrameMetricsStore.java",
        "android/java/src/org/chromium/base/jank_tracker/JankActivityTracker.java",
        "android/java/src/org/chromium/base/jank_tracker/JankEndScenarioTime.java",
        "android/java/src/org/chromium/base/jank_tracker/JankMetricUMARecorder.java",
        "android/java/src/org/chromium/base/jank_tracker/JankMetrics.java",
        "android/java/src/org/chromium/base/jank_tracker/JankReportingRunnable.java",
        "android/java/src/org/chromium/base/jank_tracker/JankReportingScheduler.java",
        "android/java/src/org/chromium/base/jank_tracker/JankScenario.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTracker.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTrackerImpl.java",
        "android/java/src/org/chromium/base/jank_tracker/JankTrackerStateController.java",
        "android/java/src/org/chromium/base/jank_tracker/PlaceholderJankTracker.java",
        "android/java/src/org/chromium/base/library_loader/LibraryLoader.java",
        "android/java/src/org/chromium/base/library_loader/LibraryPrefetcher.java",
        "android/java/src/org/chromium/base/library_loader/Linker.java",
        "android/java/src/org/chromium/base/library_loader/LinkerJni.java",
        "android/java/src/org/chromium/base/library_loader/LoaderErrors.java",
        "android/java/src/org/chromium/base/library_loader/NativeLibraryPreloader.java",
        "android/java/src/org/chromium/base/library_loader/ProcessInitException.java",
        "android/java/src/org/chromium/base/lifetime/DestroyChecker.java",
        "android/java/src/org/chromium/base/lifetime/Destroyable.java",
        "android/java/src/org/chromium/base/memory/JavaHeapDumpGenerator.java",
        "android/java/src/org/chromium/base/memory/MemoryInfoBridge.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureCallback.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureMonitor.java",
        "android/java/src/org/chromium/base/memory/MemoryPressureUma.java",
        "android/java/src/org/chromium/base/memory/MemoryPurgeManager.java",
        "android/java/src/org/chromium/base/metrics/CachingUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/HistogramBucket.java",
        "android/java/src/org/chromium/base/metrics/NativeUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/NoopUmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/RecordHistogram.java",
        "android/java/src/org/chromium/base/metrics/RecordUserAction.java",
        "android/java/src/org/chromium/base/metrics/ScopedSysTraceEvent.java",
        "android/java/src/org/chromium/base/metrics/StatisticsRecorderAndroid.java",
        "android/java/src/org/chromium/base/metrics/TimingMetric.java",
        "android/java/src/org/chromium/base/metrics/UmaRecorder.java",
        "android/java/src/org/chromium/base/metrics/UmaRecorderHolder.java",
        "android/java/src/org/chromium/base/supplier/DestroyableObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/LazyOneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/LazyOneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/ObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/ObservableSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/OneShotCallback.java",
        "android/java/src/org/chromium/base/supplier/OneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/OneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/Supplier.java",
        "android/java/src/org/chromium/base/supplier/SupplierUtils.java",
        "android/java/src/org/chromium/base/supplier/SyncOneshotSupplier.java",
        "android/java/src/org/chromium/base/supplier/SyncOneshotSupplierImpl.java",
        "android/java/src/org/chromium/base/supplier/TransitiveObservableSupplier.java",
        "android/java/src/org/chromium/base/supplier/UnownedUserDataSupplier.java",
        "android/java/src/org/chromium/base/supplier/UnwrapObservableSupplier.java",
        "android/java/src/org/chromium/base/task/AsyncTask.java",
        "android/java/src/org/chromium/base/task/BackgroundOnlyAsyncTask.java",
        "android/java/src/org/chromium/base/task/ChainedTasks.java",
        "android/java/src/org/chromium/base/task/ChromeThreadPoolExecutor.java",
        "android/java/src/org/chromium/base/task/PostTask.java",
        "android/java/src/org/chromium/base/task/SequencedTaskRunner.java",
        "android/java/src/org/chromium/base/task/SequencedTaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/SerialExecutor.java",
        "android/java/src/org/chromium/base/task/SingleThreadTaskRunner.java",
        "android/java/src/org/chromium/base/task/SingleThreadTaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/TaskExecutor.java",
        "android/java/src/org/chromium/base/task/TaskRunner.java",
        "android/java/src/org/chromium/base/task/TaskRunnerImpl.java",
        "android/java/src/org/chromium/base/task/ThreadPoolTaskExecutor.java",
        "android/java/src/org/chromium/base/task/UiThreadTaskExecutor.java",
        "test/android/javatests/src/stub/org/chromium/base/test/ClangProfiler.java",
    ],
    static_libs: [
        "cronet_aml_build_android_build_java__testing",
        "cronet_aml_third_party_jni_zero_jni_zero_java__testing",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "androidx.annotation_annotation",
        "androidx.annotation_annotation-experimental",
        "error_prone_annotations",
        "jsr305",
    ],
    sdk_version: "current",
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
}

// GN: //base:base_java_test_support__testing
java_library {
    name: "cronet_aml_base_base_java_test_support__testing",
    srcs: [
        "test/android/javatests/src/org/chromium/base/test/BaseChromiumAndroidJUnitRunner.java",
        "test/android/javatests/src/org/chromium/base/test/BaseJUnit4ClassRunner.java",
        "test/android/javatests/src/org/chromium/base/test/BaseJUnit4TestRule.java",
        "test/android/javatests/src/org/chromium/base/test/LoadNative.java",
        "test/android/javatests/src/org/chromium/base/test/MockitoErrorHandler.java",
        "test/android/javatests/src/org/chromium/base/test/ResetCachedFlagValuesTestHook.java",
        "test/android/javatests/src/org/chromium/base/test/ScreenshotOnFailureStatement.java",
        "test/android/javatests/src/org/chromium/base/test/TestTraceEvent.java",
        "test/android/javatests/src/org/chromium/base/test/UnitTestLifetimeAssertRule.java",
        "test/android/javatests/src/org/chromium/base/test/UnitTestNoBrowserProcessHook.java",
        "test/android/javatests/src/org/chromium/base/test/params/BaseJUnit4RunnerDelegate.java",
        "test/android/javatests/src/org/chromium/base/test/params/BlockJUnit4RunnerDelegate.java",
        "test/android/javatests/src/org/chromium/base/test/params/MethodParamAnnotationRule.java",
        "test/android/javatests/src/org/chromium/base/test/params/MethodParamRule.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterAnnotations.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterProvider.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterSet.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedCommandLineFlags.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedFrameworkMethod.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedRunner.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedRunnerDelegate.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedRunnerDelegateCommon.java",
        "test/android/javatests/src/org/chromium/base/test/params/ParameterizedRunnerDelegateFactory.java",
        "test/android/javatests/src/org/chromium/base/test/params/SkipCommandLineParameterization.java",
        "test/android/javatests/src/org/chromium/base/test/util/AdvancedMockContext.java",
        "test/android/javatests/src/org/chromium/base/test/util/AndroidSdkLevelSkipCheck.java",
        "test/android/javatests/src/org/chromium/base/test/util/AnnotationProcessingUtils.java",
        "test/android/javatests/src/org/chromium/base/test/util/AnnotationRule.java",
        "test/android/javatests/src/org/chromium/base/test/util/ApplicationContextWrapper.java",
        "test/android/javatests/src/org/chromium/base/test/util/ApplicationTestUtils.java",
        "test/android/javatests/src/org/chromium/base/test/util/Batch.java",
        "test/android/javatests/src/org/chromium/base/test/util/CallbackHelper.java",
        "test/android/javatests/src/org/chromium/base/test/util/CommandLineFlags.java",
        "test/android/javatests/src/org/chromium/base/test/util/Criteria.java",
        "test/android/javatests/src/org/chromium/base/test/util/CriteriaHelper.java",
        "test/android/javatests/src/org/chromium/base/test/util/CriteriaNotSatisfiedException.java",
        "test/android/javatests/src/org/chromium/base/test/util/DisableIf.java",
        "test/android/javatests/src/org/chromium/base/test/util/DisableIfSkipCheck.java",
        "test/android/javatests/src/org/chromium/base/test/util/DisabledTest.java",
        "test/android/javatests/src/org/chromium/base/test/util/DoNotBatch.java",
        "test/android/javatests/src/org/chromium/base/test/util/DoNotRevive.java",
        "test/android/javatests/src/org/chromium/base/test/util/DumpThreadsOnFailureRule.java",
        "test/android/javatests/src/org/chromium/base/test/util/EnormousTest.java",
        "test/android/javatests/src/org/chromium/base/test/util/EspressoIdleTimeoutRule.java",
        "test/android/javatests/src/org/chromium/base/test/util/Feature.java",
        "test/android/javatests/src/org/chromium/base/test/util/Features.java",
        "test/android/javatests/src/org/chromium/base/test/util/FieldTrials.java",
        "test/android/javatests/src/org/chromium/base/test/util/HistogramWatcher.java",
        "test/android/javatests/src/org/chromium/base/test/util/InMemorySharedPreferences.java",
        "test/android/javatests/src/org/chromium/base/test/util/InMemorySharedPreferencesContext.java",
        "test/android/javatests/src/org/chromium/base/test/util/IntegrationTest.java",
        "test/android/javatests/src/org/chromium/base/test/util/JniMocker.java",
        "test/android/javatests/src/org/chromium/base/test/util/LooperUtils.java",
        "test/android/javatests/src/org/chromium/base/test/util/Manual.java",
        "test/android/javatests/src/org/chromium/base/test/util/MaxAndroidSdkLevel.java",
        "test/android/javatests/src/org/chromium/base/test/util/MinAndroidSdkLevel.java",
        "test/android/javatests/src/org/chromium/base/test/util/PackageManagerWrapper.java",
        "test/android/javatests/src/org/chromium/base/test/util/PayloadCallbackHelper.java",
        "test/android/javatests/src/org/chromium/base/test/util/RequiresRestart.java",
        "test/android/javatests/src/org/chromium/base/test/util/Restriction.java",
        "test/android/javatests/src/org/chromium/base/test/util/RestrictionSkipCheck.java",
        "test/android/javatests/src/org/chromium/base/test/util/ScalableTimeout.java",
        "test/android/javatests/src/org/chromium/base/test/util/SkipCheck.java",
        "test/android/javatests/src/org/chromium/base/test/util/TestFileUtil.java",
        "test/android/javatests/src/org/chromium/base/test/util/TestThreadUtils.java",
        "test/android/javatests/src/org/chromium/base/test/util/TimeoutScale.java",
        "test/android/javatests/src/org/chromium/base/test/util/TimeoutTimer.java",
        "test/android/javatests/src/org/chromium/base/test/util/UserActionTester.java",
        "test/android/javatests/src/org/chromium/base/test/util/ViewActionOnDescendant.java",
        "test/android/javatests/src/org/chromium/base/test/util/ViewPrinter.java",
    ],
    static_libs: [
        "androidx.test.espresso.contrib",
        "androidx.test.runner",
        "androidx.test.uiautomator_uiautomator",
        "cronet_aml_base_base_cached_flags_java__testing",
        "cronet_aml_base_base_java__testing",
        "cronet_aml_base_base_java_url_utils_for_test__testing",
        "cronet_aml_build_android_build_java__testing",
        "cronet_aml_testing_android_instrumentation_instrumentation_test_runner_java__testing",
        "cronet_aml_third_party_jni_zero_jni_zero_java__testing",
        "guava",
        "hamcrest",
        "hamcrest-library",
        "junit",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "android.test.mock.stubs",
        "androidx.annotation_annotation",
        "androidx.core_core",
        "androidx.test.monitor",
        "jsr305",
    ],
    sdk_version: "current",
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
    errorprone: {
        javacflags: [
            "-Xep:ReturnValueIgnored:WARN",
        ],
    },
}

// GN: //base:base_java_url_utils_for_test__testing
java_library {
    name: "cronet_aml_base_base_java_url_utils_for_test__testing",
    srcs: [
        "test/android/javatests/src/org/chromium/base/test/util/UrlUtils.java",
    ],
    static_libs: [
        "cronet_aml_base_base_java__testing",
        "cronet_aml_build_android_build_java__testing",
        "cronet_aml_third_party_jni_zero_jni_zero_java__testing",
        "junit",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "androidx.annotation_annotation",
    ],
    sdk_version: "current",
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
}

// GN: //base:base_shared_preferences_java__testing
java_library {
    name: "cronet_aml_base_base_shared_preferences_java__testing",
    srcs: [
        "android/java/src/org/chromium/base/shared_preferences/KeyPrefix.java",
        "android/java/src/org/chromium/base/shared_preferences/KnownPreferenceKeyRegistries.java",
        "android/java/src/org/chromium/base/shared_preferences/PreferenceKeyChecker.java",
        "android/java/src/org/chromium/base/shared_preferences/PreferenceKeyRegistry.java",
        "android/java/src/org/chromium/base/shared_preferences/SharedPreferencesManager.java",
        "android/java/src/org/chromium/base/shared_preferences/StrictPreferenceKeyChecker.java",
    ],
    static_libs: [
        "cronet_aml_base_base_java__testing",
        "cronet_aml_build_android_build_java__testing",
        "cronet_aml_third_party_jni_zero_jni_zero_java__testing",
        "guava",
    ],
    apex_available: [
        "com.android.tethering",
    ],
    min_sdk_version: "30",
    libs: [
        "androidx.annotation_annotation",
    ],
    sdk_version: "current",
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    jarjar_rules: ":remove_gen_jni_jarjar_rules",
}

// GN: //base:base_static
cc_library_static {
    name: "cronet_aml_base_base_static",
    srcs: [
        "base_switches.cc",
    ],
    generated_headers: [
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_build_chromeos_buildflags",
    ],
    export_generated_headers: [
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_build_chromeos_buildflags",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r26b_1",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DHAVE_SYS_UIO_H",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-O2",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
            ],
        },
        android_arm64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-mno-outline",
            ],
        },
        android_x86: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
    },
}

// GN: //base:base_static__testing
cc_library_static {
    name: "cronet_aml_base_base_static__testing",
    srcs: [
        "base_switches.cc",
    ],
    host_supported: true,
    generated_headers: [
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
    ],
    export_generated_headers: [
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-O2",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_arm64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-mno-outline",
            ],
        },
        android_riscv64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_x86: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        host: {
            cflags: [
                "-DCR_SYSROOT_KEY=20230611T210420Z-2",
                "-DUSE_AURA=1",
                "-DUSE_OZONE=1",
                "-DUSE_UDEV",
                "-D_FILE_OFFSET_BITS=64",
                "-D_FORTIFY_SOURCE=2",
                "-D_LARGEFILE64_SOURCE",
                "-D_LARGEFILE_SOURCE",
                "-msse3",
            ],
            compile_multilib: "64",
        },
    },
}

// GN: //base:check_version_internal
cc_library_static {
    name: "cronet_aml_base_check_version_internal",
    generated_headers: [
        "cronet_aml_base_check_version_internal_action",
    ],
    export_generated_headers: [
        "cronet_aml_base_check_version_internal_action",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r26b_1",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DHAVE_SYS_UIO_H",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
            ],
        },
        android_arm64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-O2",
                "-mno-outline",
            ],
        },
        android_x86: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
    },
}

// GN: //base:check_version_internal__testing
cc_library_static {
    name: "cronet_aml_base_check_version_internal__testing",
    host_supported: true,
    generated_headers: [
        "cronet_aml_base_check_version_internal_action__testing",
    ],
    export_generated_headers: [
        "cronet_aml_base_check_version_internal_action__testing",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_arm64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-O2",
                "-mno-outline",
            ],
        },
        android_riscv64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_x86: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        host: {
            cflags: [
                "-DCR_SYSROOT_KEY=20230611T210420Z-2",
                "-DUSE_AURA=1",
                "-DUSE_OZONE=1",
                "-DUSE_UDEV",
                "-D_FILE_OFFSET_BITS=64",
                "-D_FORTIFY_SOURCE=2",
                "-D_LARGEFILE64_SOURCE",
                "-D_LARGEFILE_SOURCE",
                "-O2",
                "-msse3",
            ],
            compile_multilib: "64",
        },
    },
}

// GN: //base:i18n__testing
cc_library_static {
    name: "cronet_aml_base_i18n__testing",
    srcs: [
        "i18n/base_i18n_switches.cc",
        "i18n/break_iterator.cc",
        "i18n/case_conversion.cc",
        "i18n/char_iterator.cc",
        "i18n/character_encoding.cc",
        "i18n/encoding_detection.cc",
        "i18n/file_util_icu.cc",
        "i18n/i18n_constants.cc",
        "i18n/icu_string_conversions.cc",
        "i18n/icu_util.cc",
        "i18n/message_formatter.cc",
        "i18n/number_formatting.cc",
        "i18n/rtl.cc",
        "i18n/streaming_utf8_validator.cc",
        "i18n/string_compare.cc",
        "i18n/string_search.cc",
        "i18n/time_formatting.cc",
        "i18n/timezone.cc",
        "i18n/utf8_validator_tables.cc",
    ],
    shared_libs: [
        "libandroid",
        "liblog",
    ],
    generated_headers: [
        "cronet_aml_base_allocator_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags__testing",
        "cronet_aml_base_anchor_functions_buildflags__testing",
        "cronet_aml_base_build_date__testing",
        "cronet_aml_base_cfi_buildflags__testing",
        "cronet_aml_base_check_version_internal_action__testing",
        "cronet_aml_base_clang_profiling_buildflags__testing",
        "cronet_aml_base_debugging_buildflags__testing",
        "cronet_aml_base_feature_list_buildflags__testing",
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_base_ios_cronet_buildflags__testing",
        "cronet_aml_base_logging_buildflags__testing",
        "cronet_aml_base_message_pump_buildflags__testing",
        "cronet_aml_base_orderfile_buildflags__testing",
        "cronet_aml_base_power_monitor_buildflags__testing",
        "cronet_aml_base_profiler_buildflags__testing",
        "cronet_aml_base_protected_memory_buildflags__testing",
        "cronet_aml_base_rust_buildflags__testing",
        "cronet_aml_base_sanitizer_buildflags__testing",
        "cronet_aml_base_synchronization_buildflags__testing",
        "cronet_aml_base_tracing_buildflags__testing",
        "cronet_aml_build_blink_buildflags__testing",
        "cronet_aml_build_branding_buildflags__testing",
        "cronet_aml_build_chromecast_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
        "cronet_aml_build_config_compiler_compiler_buildflags__testing",
        "cronet_aml_build_ios_buildflags__testing",
    ],
    export_generated_headers: [
        "cronet_aml_base_allocator_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromecast_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_chromeos_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_debugging_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_partition_alloc_buildflags__testing",
        "cronet_aml_base_allocator_partition_allocator_src_partition_alloc_raw_ptr_buildflags__testing",
        "cronet_aml_base_anchor_functions_buildflags__testing",
        "cronet_aml_base_build_date__testing",
        "cronet_aml_base_cfi_buildflags__testing",
        "cronet_aml_base_check_version_internal_action__testing",
        "cronet_aml_base_clang_profiling_buildflags__testing",
        "cronet_aml_base_debugging_buildflags__testing",
        "cronet_aml_base_feature_list_buildflags__testing",
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_base_ios_cronet_buildflags__testing",
        "cronet_aml_base_logging_buildflags__testing",
        "cronet_aml_base_message_pump_buildflags__testing",
        "cronet_aml_base_orderfile_buildflags__testing",
        "cronet_aml_base_power_monitor_buildflags__testing",
        "cronet_aml_base_profiler_buildflags__testing",
        "cronet_aml_base_protected_memory_buildflags__testing",
        "cronet_aml_base_rust_buildflags__testing",
        "cronet_aml_base_sanitizer_buildflags__testing",
        "cronet_aml_base_synchronization_buildflags__testing",
        "cronet_aml_base_tracing_buildflags__testing",
        "cronet_aml_build_blink_buildflags__testing",
        "cronet_aml_build_branding_buildflags__testing",
        "cronet_aml_build_chromecast_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
        "cronet_aml_build_config_compiler_compiler_buildflags__testing",
        "cronet_aml_build_ios_buildflags__testing",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r26b_1",
        "-DBASE_I18N_IMPLEMENTATION",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DHAVE_SYS_UIO_H",
        "-DICU_UTIL_DATA_IMPL=ICU_UTIL_DATA_FILE",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-DUSE_CHROMIUM_ICU=1",
        "-DU_ENABLE_DYLOAD=0",
        "-DU_ENABLE_RESOURCE_TRACING=0",
        "-DU_ENABLE_TRACING=1",
        "-DU_STATIC_IMPLEMENTATION",
        "-DU_USING_ICU_NAMESPACE=0",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-O2",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/base/allocator/partition_allocator/src/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/abseil-cpp/",
        "external/cronet/third_party/boringssl/src/include/",
        "external/cronet/third_party/ced/src/",
        "external/cronet/third_party/icu/source/common/",
        "external/cronet/third_party/icu/source/i18n/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
        "-Wl,--script,external/cronet/base/android/library_loader/anchor_functions.lds",
        "-Wl,-wrap,asprintf",
        "-Wl,-wrap,calloc",
        "-Wl,-wrap,free",
        "-Wl,-wrap,getcwd",
        "-Wl,-wrap,malloc",
        "-Wl,-wrap,malloc_usable_size",
        "-Wl,-wrap,memalign",
        "-Wl,-wrap,posix_memalign",
        "-Wl,-wrap,pvalloc",
        "-Wl,-wrap,realloc",
        "-Wl,-wrap,realpath",
        "-Wl,-wrap,strdup",
        "-Wl,-wrap,strndup",
        "-Wl,-wrap,valloc",
        "-Wl,-wrap,vasprintf",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
            ],
        },
        android_arm64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-mno-outline",
            ],
        },
        android_x86: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
    },
}

// GN: //base:nodebug_assertion
cc_library_static {
    name: "cronet_aml_base_nodebug_assertion",
    srcs: [
        "nodebug_assertion.cc",
    ],
    generated_headers: [
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_build_chromeos_buildflags",
    ],
    export_generated_headers: [
        "cronet_aml_base_fuzzing_buildflags",
        "cronet_aml_build_chromeos_buildflags",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r26b_1",
        "-DBASE_IMPLEMENTATION",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DHAVE_SYS_UIO_H",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
            ],
        },
        android_arm64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-O2",
                "-mno-outline",
            ],
        },
        android_x86: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-D_FORTIFY_SOURCE=2",
                "-msse3",
            ],
        },
    },
}

// GN: //base:nodebug_assertion__testing
cc_library_static {
    name: "cronet_aml_base_nodebug_assertion__testing",
    srcs: [
        "nodebug_assertion.cc",
    ],
    host_supported: true,
    generated_headers: [
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
    ],
    export_generated_headers: [
        "cronet_aml_base_fuzzing_buildflags__testing",
        "cronet_aml_build_chromeos_buildflags__testing",
    ],
    defaults: [
        "cronet_aml_cc_defaults",
    ],
    cflags: [
        "-DBASE_IMPLEMENTATION",
        "-DCR_CLANG_REVISION=\"llvmorg-19-init-8091-gab037c4f-22\"",
        "-DCR_LIBCXX_REVISION=e3b94d0e5b86883fd77696bf10dc33ba250ba99b",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=0",
        "-DNDEBUG",
        "-DNO_UNWIND_TABLES",
        "-DNVALGRIND",
        "-DOFFICIAL_BUILD",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_HARDENING_MODE=_LIBCPP_HARDENING_MODE_EXTENSIVE",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-fdata-sections",
        "-ffunction-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fstack-protector",
        "-fvisibility-inlines-hidden",
        "-fvisibility=hidden",
        "-g1",
    ],
    include_dirs: [
        "external/cronet/",
        "external/cronet/buildtools/third_party/libc++/",
        "external/cronet/third_party/libc++/src/include",
        "external/cronet/third_party/libc++abi/src/include",
    ],
    cpp_std: "c++20",
    ldflags: [
        "-Wl,--as-needed",
        "-Wl,--gc-sections",
        "-Wl,--icf=all",
    ],
    visibility: [
        "//external/cronet:__subpackages__",
    ],
    target: {
        android_arm: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_arm64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-O2",
                "-mno-outline",
            ],
        },
        android_riscv64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
            ],
        },
        android_x86: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        android_x86_64: {
            cflags: [
                "-DANDROID",
                "-DANDROID_NDK_VERSION_ROLL=r26b_1",
                "-DHAVE_SYS_UIO_H",
                "-D_FORTIFY_SOURCE=2",
                "-D__ANDROID_UNAVAILABLE_SYMBOLS_ARE_WEAK__",
                "-msse3",
            ],
        },
        host: {
            cflags: [
                "-DCR_SYSROOT_KEY=20230611T210420Z-2",
                "-DUSE_AURA=1",
                "-DUSE_OZONE=1",
                "-DUSE_UDEV",
                "-D_FILE_OFFSET_BITS=64",
                "-D_FORTIFY_SOURCE=2",
                "-D_LARGEFILE64_SOURCE",
                "-D_LARGEFILE_SOURCE",
                "-O2",
                "-msse3",
            ],
            compile_multilib: "64",
        },
    },
}
